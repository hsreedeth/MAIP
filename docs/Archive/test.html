<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Project MAIP – Portfolio by Hari S. Sreedeth</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <style>
    /* --- 1. Global Variables & Reset --- */
    :root {
      --bg: #f7f1e8;
      --text: #2c2c2c;
      --muted: #8f8a82;
      --accent: #111111;
      --divider: #e3d7c6;
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      padding: 0;
      font-family: -apple-system, system-ui, BlinkMacSystemFont, "SF Pro Text", "Helvetica Neue", Arial, sans-serif;
      background: var(--bg);
      color: var(--text);
      line-height: 1.6;
      -webkit-font-smoothing: antialiased;
      overflow-x: hidden; /* Prevents accidental horizontal scroll */
    }

    /* --- 2. Main Container Layout --- */
    main {
      max-width: 800px; /* Reduced slightly for better readability */
      margin: 72px auto 120px;
      padding: 0 24px;
      position: relative;
    }

    hr {
      border: 0;
      border-top: 1px solid var(--divider);
      margin: 60px 0 40px;
    }

    a {
      color: inherit;
      text-decoration: none;
      border-bottom: 1px solid rgba(0, 0, 0, 0.18);
      transition: border-color 0.2s;
    }
    a:hover { border-bottom-color: rgba(0, 0, 0, 0.6); }

    /* --- 3. Typography --- */
    h1, h2, h3 { font-weight: 500; letter-spacing: -0.01em; color: var(--accent); }
    
    .intro-title {
      font-size: 36px;
      margin-bottom: 8px;
    }
    
    .intro-role {
      font-size: 16px;
      color: var(--muted);
      margin-bottom: 48px;
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }

    .section-heading {
      font-size: 28px;
      margin-top: 80px;
      margin-bottom: 16px;
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }

    .section-lead {
      font-size: 18px;
      color: var(--muted);
      margin-bottom: 32px;
      line-height: 1.5;
    }

    /* --- 4. Sidenotes (Fixed Position) --- */
    .sidenote-wrapper {
      position: relative; /* Context for absolute sidenotes */
    }

    .sidenote {
      float: right;
      clear: right;
      margin-right: -180px; /* Push into margin */
      width: 160px;
      font-size: 12px;
      line-height: 1.4;
      color: #7c7165;
      margin-bottom: 1em;
      border-left: 1px solid var(--divider);
      padding-left: 10px;
    }

    .sidenote-number {
      font-weight: bold;
      margin-right: 4px;
    }
    
    .sidenote-ref {
      vertical-align: super;
      font-size: 0.7em;
      color: var(--muted);
      cursor: pointer;
    }

    /* Mobile Sidenotes */
    @media (max-width: 1200px) {
      .sidenote {
        float: none;
        margin: 20px 0;
        width: 100%;
        background: rgba(0,0,0,0.03);
        padding: 12px;
        border-left: 3px solid var(--divider);
      }
    }

    /* --- 5. "Breakout" Grid System (The Magic Part) --- */
    /* This class forces content to be wider than the text column */
    .breakout-grid {
      width: 95vw; /* 95% of viewport width */
      position: relative;
      left: 50%;
      right: 50%;
      margin-left: -47.5vw; /* Half of 95vw */
      margin-right: -47.5vw;
      
      display: flex;
      gap: 1.5rem;
      justify-content: center;
      align-items: flex-start;
      margin-top: 3rem;
      margin-bottom: 4rem;
    }

    .breakout-grid figure {
      flex: 1;
      min-width: 0;
      margin: 0;
      text-align: center;
    }

    .breakout-grid img {
      width: 100%;
      height: auto;
      display: block;
    }

    .caption {
      margin-top: 12px;
      font-size: 11px;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      font-weight: 600;
      color: var(--muted);
    }

    @media (max-width: 768px) {
      .breakout-grid {
        flex-direction: column;
        width: 100%;
        margin-left: 0;
        margin-right: 0;
        left: 0;
      }
      .breakout-grid figure { margin-bottom: 32px; }
    }

    /* --- 6. Tables --- */
    .data-table {
      width: 100%;
      border-collapse: collapse;
      margin: 40px 0;
      font-size: 14px;
    }
    .data-table th, .data-table td {
      padding: 12px 8px;
      border-bottom: 1px solid var(--divider);
      text-align: left;
    }
    .data-table th {
      text-transform: uppercase;
      font-size: 12px;
      letter-spacing: 0.05em;
      color: var(--muted);
    }
    .section-row td {
      background: rgba(0,0,0,0.03);
      font-weight: 600;
      font-size: 12px;
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }

    /* --- 7. Service Blocks --- */
    .services-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 32px;
      margin-bottom: 60px;
    }
    .service-block-title {
      font-weight: 600;
      margin-bottom: 8px;
      text-transform: uppercase;
      font-size: 13px;
      letter-spacing: 0.05em;
    }
    .service-block p {
      font-size: 14px;
      margin: 0;
      color: #555;
    }
    @media (max-width: 600px) {
      .services-grid { grid-template-columns: 1fr; }
    }

  </style>
</head>

<body>
<main>

  <div style="margin-bottom: 80px;">
    <div style="font-size: 12px; text-transform: uppercase; letter-spacing: 0.1em; color: var(--muted); margin-bottom: 16px;">
      Multimorbidity-Anchored ICU Phenotypes (MAIP)
    </div>
    <h1 class="intro-title">Hari S. Sreedeth</h1>
    <div class="intro-role">Health Data Scientist &nbsp;·&nbsp; Statistical Machine Learning</div>
  </div>

  <div style="background: white; padding: 32px; border: 1px solid var(--divider); margin-bottom: 60px;">
    <h3 style="margin-top: 0; font-size: 14px; text-transform: uppercase; letter-spacing: 0.05em;">The Problem</h3>
    <p style="font-size: 15px; margin-bottom: 24px;">ML models are accurate but opaque. Doctors don't trust them.</p>
    
    <h3 style="margin-top: 0; font-size: 14px; text-transform: uppercase; letter-spacing: 0.05em;">The Solution</h3>
    <p style="font-size: 15px; margin: 0;">I built a pipeline that uses high-complexity ML to find patterns, but translates them into transparent, rule-based logic (Rulecards) that a human can audit, complete with a QC layer that mathematically guarantees the explanation matches the model.</p>
  </div>

  <h2 class="section-heading">Introduction</h2>
  <hr>
  
  <div class="sidenote-wrapper">
    <p>
      Critically ill patients arriving in intensive care rarely fit neat templates. Even within a single ICU, patients differ widely in age, comorbidity burden, physiology and social context. This heterogeneity makes it hard to reason about prognosis, compare like with like, or decide which treatment strategies are most appropriate.
    </p>

    <div class="sidenote">
      <span class="sidenote-number">1</span>
      See GitHub repository: <a href="https://github.com/hsreedeth/ProjectMAIP" target="_blank">Project-MAIP</a>.
    </div>

    <p>
      Unsupervised machine learning is an obvious tool for this problem, and a large body of ICU phenotyping work already exists. However, in practice many clustering pipelines are dominated by the blunt signal of multimorbidity: patients with more chronic disease, and who are older, simply get grouped together. The resulting “phenotypes” often mirror gradients in age and comorbidity count rather than revealing distinct, acute physiological patterns that could plausibly change clinical decisions.
    </p>

    <div class="sidenote">
      <span class="sidenote-number">2</span>
      Vanderbilt University Department of Biostatistics, Professor Frank Harrell 2022 <a href="https://hbiostat.org/data/" target="_blank">Support-II</a>.
    </div>

    <p>
      The Multimorbidity-Anchored ICU Phenotypes (MAIP) project<span class="sidenote-ref">1</span> is my attempt to tackle that limitation in a principled, end-to-end way using the SUPPORT-II cohort (over 9,000-patient sample)<span class="sidenote-ref">2</span>. I designed MAIP as a full pipeline that (i) explicitly separates chronic disease burden from acute physiology and (ii) carries the resulting clusters all the way through to a human-readable bedside tool.
    </p>
    
    <p>
      Methodologically, MAIP combines two complementary unsupervised pathways: a multimorbidity-stratified phenotyping route (MMSP) and a simplified multi-view Similarity Network Fusion implementation (SNF-lite). Once stable clusters are identified, I train a sparse decision-tree surrogate model to approximate the cluster assignments. The tree’s branch structure is exported as structured JSON rules, which are then translated into a clinician-facing rulecard via a retrieval-augmented generation (RAG) pipeline.
    </p>
  </div>

  <h2 class="section-heading">Project Overview</h2>
  <p class="section-lead">I treat each project as a combination of rigorous research and practical translation.</p>

  <div class="services-grid">
    <div class="service-block">
      <div class="service-block-title">Study Design</div>
      <p>Retrospective cohort analysis of ~9,000 critically ill adults. Only features required for clustering are used; outcome variables (mortality, length of stay) are held out strictly for independent validation.</p>
    </div>
    <div class="service-block">
      <div class="service-block-title">Feature Engineering</div>
      <p>Constructed a feature matrix organised into three clinical views: (1) chronic disease burden, (2) acute physiology, and (3) socio-contextual characteristics.</p>
    </div>
    <div class="service-block">
      <div class="service-block-title">Phenotyping</div>
      <p>Implemented two pathways: MMSP (Physiology-focused within burden strata) and SNF-lite (Multi-view fusion). Clusters selected via stability metrics and clinical interpretability.</p>
    </div>
    <div class="service-block">
      <div class="service-block-title">RAG Translation</div>
      <p>Used a retrieval-augmented pipeline with GPT-4.1-mini to convert JSON surrogate-tree rules into clinician-facing rulecards. Prompts enforce “no new logic” and strict consistency.</p>
    </div>
  </div>

  <img src="/Users/harisreedeth/Desktop/D/personal/ProjectMAIP/PortfolioMain/Overview Schematic.svg" 
       alt="Overview schematic" 
       style="width: 100%; height: auto; border: 1px solid var(--divider); padding: 20px; background: white; margin-bottom: 60px;">

  <h2 class="section-heading">Cohort & Features</h2>
  <p>
    I worked with the SUPPORT-II ICU cohort, which includes rich baseline demographics, comorbidities, and physiology. For phenotyping, I built a clean feature matrix X and a held-out outcome matrix Y. X is organised into three clinically meaningful views: a comorbidity view, a physiology view (vitals, labs, transformed and z-scaled), and a socio-contextual view.
  </p>

  <table class="data-table">
    <thead>
      <tr>
        <th>Characteristic</th>
        <th>Mean ± SD / N (%)</th>
        <th>Median (IQR)</th>
      </tr>
    </thead>
    <tbody>
      <tr class="section-row"><td colspan="3">Demographics</td></tr>
      <tr><td>Age (years)</td><td>62.65 ± 15.59</td><td>64.9 (52.8, 74.0)</td></tr>
      <tr><td>Male sex</td><td>5,123 (56.3%)</td><td>—</td></tr>
      
      <tr class="section-row"><td colspan="3">Acute Physiology</td></tr>
      <tr><td>APS Score</td><td>37.6 ± 19.9</td><td>34.0 (23.0, 49.0)</td></tr>
      <tr><td>PaO2/FiO2 ratio</td><td>263.4 ± 102.7</td><td>276.2 (180.0, 333.3)</td></tr>
      
      <tr class="section-row"><td colspan="3">Outcomes</td></tr>
      <tr><td>Hospital Mortality</td><td>2,359 (25.9%)</td><td>—</td></tr>
      <tr><td>Length of Stay (days)</td><td>17.9 ± 22.0</td><td>11.0 (6.0, 20.0)</td></tr>
    </tbody>
  </table>

  <h2 class="section-heading">Strategy 1: MMSP</h2>
  <p class="section-lead">Physiology within Burden Strata</p>
  
  <div class="sidenote-wrapper">
    <p>
      Patients are first split into Low, Mid and High multimorbidity strata using comorbidity count. Within each stratum, I cluster only on the z-scaled physiology view (vitals, labs). This ensures that "sick" patients aren't just grouped because they are old; we find acute physiological patterns <em>specific</em> to their chronic burden level.
    </p>
    <div class="sidenote">
      <span class="sidenote-number">Fig 1</span>
      Workflow: Partition by burden → PCA on physiology → k-medoids clustering.
    </div>
  </div>

  <img src="/Users/harisreedeth/Desktop/D/personal/ProjectMAIP/PortfolioMain/MMSP.svg" 
       alt="MMSP Workflow" 
       style="width: 100%; margin: 32px 0;">

  <div class="breakout-grid">
    <figure>
      <img src="/Users/harisreedeth/Desktop/D/personal/ProjectMAIP/data/02_clusters/pca_biplot_2d_Low_MM.png" alt="PCA Low">
      <div class="caption">Low Multimorbidity (N=4,183)</div>
    </figure>
    <figure>
      <img src="/Users/harisreedeth/Desktop/D/personal/ProjectMAIP/data/02_clusters/pca_biplot_2d_Mid_MM.png" alt="PCA Mid">
      <div class="caption">Mid Multimorbidity (N=3,822)</div>
    </figure>
    <figure>
      <img src="/Users/harisreedeth/Desktop/D/personal/ProjectMAIP/data/02_clusters/pca_biplot_2d_High_MM.png" alt="PCA High">
      <div class="caption">High Multimorbidity (N=1,100)</div>
    </figure>
  </div>

  <p style="text-align: center; font-size: 14px; color: var(--muted); margin-bottom: 60px;">
    <strong>Figure 2: MMSP Physiology Space.</strong> PCA of the acute physiology view within each stratum.
  </p>

  <div class="breakout-grid">
    <figure>
      <img src="/Users/harisreedeth/Desktop/D/personal/ProjectMAIP/reports/figures/heatmap_mmsp_Low_MM.png" alt="Heatmap Low">
      <div class="caption">Low Burden Profiles</div>
    </figure>
    <figure>
      <img src="/Users/harisreedeth/Desktop/D/personal/ProjectMAIP/reports/figures/heatmap_mmsp_Mid_MM.png" alt="Heatmap Mid">
      <div class="caption">Mid Burden Profiles</div>
    </figure>
    <figure>
      <img src="/Users/harisreedeth/Desktop/D/personal/ProjectMAIP/reports/figures/heatmap_mmsp_High_MM.png" alt="Heatmap High">
      <div class="caption">High Burden Profiles</div>
    </figure>
  </div>

  <h2 class="section-heading">Strategy 2: SNF-lite</h2>
  <p class="section-lead">Multi-View Fusion</p>
  
  <p>
    In parallel, I build a multi-view similarity network using all three views: Comorbidity (C), Physiology (P) and Socio-contextual (S). A lightweight Similarity Network Fusion routine iteratively combines these into a single fused affinity matrix. Spectral clustering on this fused graph yields a global set of phenotypes that balances acute and chronic signals.
  </p>

  <img src="/Users/harisreedeth/Desktop/D/personal/ProjectMAIP/PortfolioMain/SNF-Lite.svg" 
       alt="SNF Workflow" 
       style="width: 100%; margin: 32px 0;">

  <div class="breakout-grid" style="align-items: flex-end;">
    <figure>
      <img src="/Users/harisreedeth/Desktop/D/personal/ProjectMAIP/reports/figures/snf_network_Low_MM.png" alt="Network Low">
      <div class="caption">Low Burden Network</div>
    </figure>
    <figure>
      <img src="/Users/harisreedeth/Desktop/D/personal/ProjectMAIP/reports/figures/snf_network_Mid_MM.png" alt="Network Mid">
      <div class="caption">Mid Burden Network</div>
    </figure>
    <figure>
      <img src="/Users/harisreedeth/Desktop/D/personal/ProjectMAIP/reports/figures/snf_network_High_MM.png" alt="Network High">
      <div class="caption">High Burden Network</div>
    </figure>
  </div>

  <p style="text-align: center; font-size: 14px; color: var(--muted); margin-bottom: 60px;">
    <strong>Figure 3: Patient Similarity Networks.</strong> k-NN graphs derived from the fused similarity matrix.
  </p>

  <div class="breakout-grid">
    <figure>
      <img src="/Users/harisreedeth/Desktop/D/personal/ProjectMAIP/reports/figures/heatmap_snf_Low_MM.png" alt="SNF Heatmap Low">
      <div class="caption">Low Burden Clusters</div>
    </figure>
    <figure>
      <img src="/Users/harisreedeth/Desktop/D/personal/ProjectMAIP/reports/figures/heatmap_snf_Mid_MM.png" alt="SNF Heatmap Mid">
      <div class="caption">Mid Burden Clusters</div>
    </figure>
    <figure>
      <img src="/Users/harisreedeth/Desktop/D/personal/ProjectMAIP/reports/figures/heatmap_snf_High_MM.png" alt="SNF Heatmap High">
      <div class="caption">High Burden Clusters</div>
    </figure>
  </div>

  <h2 class="section-heading">Validation & Comparison</h2>
  
  <p>
    We compared the two approaches. MMSP clusters (physiology-only) and SNF-lite clusters (multi-view) showed low concordance (ARI < 0.15), meaning they capture fundamentally different structures. However, <strong>SNF-lite consistently outperformed MMSP</strong> in cross-validated prognostic accuracy (Delta-C Index).
  </p>

  <table class="data-table">
    <thead>
      <tr>
        <th>Stratum</th>
        <th>Model</th>
        <th>Mean C-index</th>
        <th>Improvement</th>
      </tr>
    </thead>
    <tbody>
      <tr class="section-row"><td colspan="4">Low Multimorbidity</td></tr>
      <tr><td>Low MM</td><td>Base Clinical Model</td><td>0.640</td><td>—</td></tr>
      <tr><td>Low MM</td><td>Base + SNF-lite</td><td>0.682</td><td><strong>+0.042</strong></td></tr>
      
      <tr class="section-row"><td colspan="4">High Multimorbidity</td></tr>
      <tr><td>High MM</td><td>Base Clinical Model</td><td>0.659</td><td>—</td></tr>
      <tr><td>High MM</td><td>Base + SNF-lite</td><td>0.674</td><td><strong>+0.015</strong></td></tr>
    </tbody>
  </table>

  <h3 style="text-align: center; margin-top: 60px;">Concordance Analysis</h3>
  <p style="text-align: center; color: var(--muted); max-width: 600px; margin: 0 auto 40px;">
    The "shattering" of clusters in these Sankey diagrams confirms that MMSP and SNF-lite see different things. They are complementary, not redundant.
  </p>

  <div class="breakout-grid">
    <figure>
      <img src="/Users/harisreedeth/Desktop/D/personal/ProjectMAIP/reports/figures/sankey_Low_MM.png" alt="Sankey Low">
      <div class="caption">Low Burden (ARI = 0.08)</div>
    </figure>
    <figure>
      <img src="/Users/harisreedeth/Desktop/D/personal/ProjectMAIP/reports/figures/sankey_Mid_MM.png" alt="Sankey Mid">
      <div class="caption">Mid Burden (ARI = 0.14)</div>
    </figure>
    <figure>
      <img src="/Users/harisreedeth/Desktop/D/personal/ProjectMAIP/reports/figures/sankey_High_MM.png" alt="Sankey High">
      <div class="caption">High Burden (ARI = 0.10)</div>
    </figure>
  </div>

  <hr>
  <div style="text-align: center; font-size: 13px; color: var(--muted); margin-bottom: 40px;">
    &copy; 2025 Hari S. Sreedeth. All rights reserved.
  </div>

</main>
</body>
</html>