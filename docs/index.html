<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <meta charset="UTF-8" />
  <title>Project MAIP – Portfolio by Hari S. Sreedeth</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!-- MathJax for LaTeX rendering -->
  <script>
    window.MathJax = {
      tex: { inlineMath: [['\\(', '\\)'], ['$', '$']], displayMath: [['\\[','\\]'], ['$$','$$']] },
      svg: { fontCache: 'global' }
    };
  </script>
  <script defer src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>


  <style>
    :root {
      --bg: #f7f1e8;
      --text: #2c2c2c;
      --muted: #8f8a82;
      --accent: #111111;
      --divider: #e3d7c6;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      padding: 0;
      font-family: "Inter", -apple-system, system-ui, BlinkMacSystemFont, "SF Pro Text",
        "Helvetica Neue", Arial, sans-serif;
      background: var(--bg);
      color: var(--text);
      -webkit-font-smoothing: antialiased;
    }

    main {
      max-width: 1120px;
      margin: 72px auto 120px;
      padding: 0 32px;
    }

    hr {
      border: 0;
      border-top: 1px solid var(--divider);
      margin: 40px 0 32px;
    }
        /* --- Sidenote Base Layout --- */
    .sidenote {
    position: absolute;
    right: -150px;       /* distance into the right margin */
    width: 220px;
    font-size: 13px;
    line-height: 1.45;
    color: #6b6b6b;
    padding-top: 4px;
    }

    /* Place sidenotes relative to the paragraph container */
    .intro-section {
    position: relative;
    }

    /* The small superscript number in the text */
    .sidenote-ref {
    font-size: 0.8em;
    vertical-align: super;
    padding-left: 2px;
    cursor: pointer;
    color: #777;
    }

    /* Number displayed inside the sidenote */
    .sidenote-number {
    font-weight: bold;
    padding-right: 4px;
    }

    /* Links inside notes */
    .sidenote a {
    color: inherit;
    text-decoration: underline;
    text-decoration-thickness: 1px;
    }

        /* 1. The Grid Container */
    .pca-grid {
    display: flex;
    gap: 1rem;
    align-items: flex-start;
    justify-content: space-between;
    
    /* 1. Keep it big */
    width: 95vw;
    max-width: 1400px; /* Capped to prevent it getting too huge on iMacs */
    
    /* 2. Center it relative to the viewport, not the text */
    position: relative;
    
    /* CHANGE THIS VALUE: 
        50% centers on the text. 
        60% or 65% pushes it right (into the empty sidenote space). 
        Try 60% first. */
    left: 100%; 
    
    transform: translateX(-50%);
    
    /* 3. Safety net: Prevent it from touching the absolute screen edge */
    margin-left: 10px; 
    }

    /* 2. The Cards */
    .pca-card {
    flex: 1; /* Distribute space equally */
    min-width: 0; /* Prevents flex items from refusing to shrink if needed */
    }

    /* 3. The Images */
    .pca-card-image {
    width: 100%;
    height: auto;
    display: block;
    }

    /* 4. Responsive Safety Net (Mobile) */
    /* On small screens, stack them so they don't become microscopic */
    @media (max-width: 768px) {
    .pca-grid {
        flex-direction: column;
        width: 100%; /* Reset width to normal container */
        left: auto;
        transform: none;
    }
    }


    /* --- Responsive behaviour --- */
    @media (max-width: 1100px) {
    .sidenote {
        position: static;
        width: 100%;
        margin-top: 6px;
        padding: 6px 0;
        border-left: 3px solid #ddd;
        padding-left: 10px;
    }
    }

    .heatmap-strip {
    padding-top: 4rem;
    padding-bottom: 4rem;
    position: relative; /* Establish context */
  }

  .heatmap-strip .section-heading {
    margin-bottom: 0.75rem;
  }

  .heatmap-strip .section-lead {
    max-width: 34rem;
    margin-bottom: 2.5rem;
  }

  /* 2. The Grid Container - The "Shifted Breakout" */
  .heatmap-grid {
    display: flex;
    gap: 1.5rem; /* Space between maps */
    align-items: flex-start; /* Aligns tops of images */
    justify-content: center;

    /* --- BREAKOUT LOGIC --- */
    width: 95vw;          /* Take up most of the screen width */
    max-width: 1400px;    /* Cap width on very large screens */
    
    position: relative;
    
    /* This centers the grid relative to the SCREEN, not the text column.
       We use 60% instead of 50% to nudge it right, away from the left edge 
       where your text column starts. */
    left: 105%; 
    transform: translateX(-50%);
  }
  

  /* 3. The Figures */
  .heatmap-grid figure {
    flex: 1;           /* Each image takes equal width */
    min-width: 0;      /* Prevents flexbox sizing errors */
    margin: 0;
    text-align: center;
  }

  /* 4. The Images */
  .heatmap-grid img {
    width: 100%;
    height: auto;
    display: block;
    /* box-shadow: 0 4px 6px rgba(0,0,0,0.05); Optional: Adds subtle depth */
  }

  /* 5. The Captions */
  .heatmap-caption {
    margin-top: 1rem;
    font-size: 0.75rem;
    letter-spacing: 0.08em;
    text-transform: uppercase;
    font-weight: 600;
    color: #7c7165;
  }

  /* 6. Mobile Responsiveness */
  @media (max-width: 768px) {
    .heatmap-grid {
      flex-direction: column;
      width: 100%;
      left: auto;
      transform: none;
    }
    
    .heatmap-grid figure {
      width: 100%;
      margin-bottom: 2rem;
    }
  }

  /* --- SNF SPECIFIC STYLES --- */

.snf-strip {
  padding-top: 4rem;
  padding-bottom: 4rem;
  position: relative;
}

.snf-strip .section-heading {
  margin-bottom: 0.75rem;
}

.snf-strip .section-lead {
  max-width: 34rem;
  margin-bottom: 2.5rem;
}

/* The "Relative Expansion" Grid - Exclusive to SNF */
.snf-grid {
  display: flex;
  gap: 1.5rem;
  align-items: flex-start;
  justify-content: center;

  /* Force this grid to be wider than its parent text column */
  width: 110%;
  
  /* Pull it left to balance the extra width */
  margin-left: -15%;
  
  position: relative;
  left: 10%;
}

.snf-grid figure {
  flex: 1;
  min-width: 0;
  margin: 0;
  text-align: center;
}

.snf-grid img {
  width: 100%;
  height: auto;
  display: block;
}

.snf-caption {
  margin-top: 1rem;
  font-size: 0.75rem;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  font-weight: 600;
  color: #7c7165;
}

/* Mobile Safety Net */
@media (max-width: 768px) {
  .snf-grid {
    flex-direction: column;
    width: 100%;
    margin-left: 0;
  }
  .snf-grid figure {
    margin-bottom: 2rem;
  }
}

    /* Strip Spacing */
    .network-strip {
        padding-top: 4rem;
        padding-bottom: 4rem;
        position: relative;
    }

    .network-strip .section-lead {
        max-width: 34rem;
        margin-bottom: 2.5rem;
    }

    /* THE GRID: Shifted Breakout Logic */
    .network-grid {
        display: flex;
        gap: 1rem;
        align-items: flex-end; /* Aligns images to the bottom if heights differ */
        justify-content: center;

        /* Breakout Dimensions */
        width: 95vw;
        max-width: 1400px;
        
        position: relative;
        left: 50%; /* Pushes grid slightly right to balance sidenote column */
        transform: translateX(-50%);
    }

    /* Figure Wrapper */
    .network-grid figure {
        flex: 1;
        min-width: 0;
        margin: 0;
        text-align: center;
    }

    /* Image Styling */
    .network-grid img {
        width: 100%;
        height: auto;
        display: block;
        /* No border or shadow, just the clean network */
    }

    /* Caption Styling */
    .network-caption {
        margin-top: 0.75rem;
        font-size: 0.75rem;
        letter-spacing: 0.08em;
        text-transform: uppercase;
        font-weight: 600;
        color: #7c7165;
    }

    /* Mobile */
    @media (max-width: 768px) {
        .network-grid {
        flex-direction: column;
        width: 100%;
        left: auto;
        transform: none;
        }
        .network-grid figure {
        width: 100%;
        margin-bottom: 2rem;
        }
    }

    .snf-grid {
    display: flex;
    gap: 1rem;
    align-items: flex-start;
    justify-content: space-between;
    
    /* Viewport-relative centering */
    width: 95vw;
    max-width: 1400px;
    position: relative;
    left: 50%;
    transform: translateX(-50%);
    
    margin-left: 0;
    }

    .snf-grid figure {
    flex: 1;
    min-width: 0;
    margin: 0;
    text-align: center;
    }

    .snf-grid img {
    width: 100%;
    height: auto;
    display: block;
    }

    .snf-caption {
    margin-top: 1rem;
    font-size: 0.75rem;
    letter-spacing: 0.08em;
    text-transform: uppercase;
    font-weight: 600;
    color: #7c7165;
    }

    .context-abstract{
      max-width: 920px;
      font-size: 15px;
      line-height: 1.7;
      color: var(--text);
      margin-bottom: 24px;
    }
    .context-abstract p{
      margin: 0 0 12px;
      font-weight: 400;
    }


    /* Top bar / brand */
    .top-bar {
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      gap: 14px;
      margin-bottom: 80px;
    }

    .brand {
      font-size: 44px;
      letter-spacing: 0.14em;
      text-transform: uppercase;
      font-weight: 700;
      line-height: 1.12;
    }

    .tagline {
      font-size: 14px;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      color: var(--muted);
      text-align: left;
      max-width: 720px;
      line-height: 1.4;
    }

    /* Intro */
    .intro-heading {
      font-size: 40px;
      font-weight: 500;
      letter-spacing: 0.06em;
      text-transform: uppercase;
      margin-bottom: 24px;
      margin-top: 120px;
      color: var(--accent);
    }

    .intro-grid {
        display: grid;
        grid-template-columns: repeat(2, minmax(0, 1fr)); /* 50 / 50 split */
        column-gap: 64px;  /* or whatever spacing you like */
    }

    .intro-title {
      font-size: 24px;
      margin-bottom: 8px;
    }

    .intro-role {
      font-size: 16px;
      color: var(--muted);
      margin-bottom: 24px;
    }

    .intro-text p {
      margin: 0 0 10px;
      line-height: 1.6;
      font-size: 15px;
      /* text-align: justify;
      text-justify: inter-word;   nicer spacing in some browsers */
    }

    /* Section heading */
    .section-heading {
      font-size: 32px;
      font-weight: 500;
      margin: 80px 0 24px;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      color: var(--accent);
    }

    .section-lead {
      max-width: 720px;
      font-size: 15px;
      line-height: 1.6;
      color: var(--muted);
      margin-bottom: 16px;
    }

    /* Services / capabilities */
    .services-grid {
      display: grid;
      grid-template-columns: repeat(4, minmax(0, 1fr));
      gap: 32px;
      font-size: 14px;
      line-height: 1.7;
    }

    .service-block-title {
      font-weight: 600;
      margin-bottom: 6px;
      font-size: 15px;
    }

    .service-block p {
      margin: 0;
      color: var(--text);
    }

    /* Phase matrix */
    .phase-table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 24px;
      font-size: 14px;
    }

    .phase-table th,
    .phase-table td {
      padding: 10px 4px;
      text-align: left;
      border-bottom: 1px solid var(--divider);
    }

    .phase-table th:first-child,
    .phase-table td:first-child {
      padding-left: 0;
    }

    .phase-table th {
      font-weight: 500;
      font-size: 13px;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      color: var(--muted);
    }

    .phase-label {
      white-space: nowrap;
      font-size: 12px;
      color: var(--muted);
    }

    .skill-name {
      font-size: 14px;
    }

    .dot-cell {
      text-align: center;
      width: 64px;
    }

    .dot {
      display: inline-block;
      width: 9px;
      height: 9px;
      border-radius: 50%;
      background: rgba(0, 0, 0, 0.1);
    }

    .dot--active {
      background: #111111;
    }

    /* Projects */
    .projects-grid {
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 32px 24px;
      margin-top: 32px;
    }

    .project-card {
      padding: 6px 0;
      border-top: 1px solid var(--divider);
    }

    .project-code {
      font-size: 32px;
      font-weight: 500;
      letter-spacing: 0.08em;
    }

    .project-name {
      font-size: 14px;
      margin-top: 4px;
    }

    .project-meta {
      font-size: 12px;
      color: var(--muted);
      margin-top: 4px;
    }

    .project-description {
      font-size: 13px;
      line-height: 1.6;
      margin-top: 10px;
      color: var(--text);
    }

    /* Contact */
    .contact-row {
      display: flex;
      flex-wrap: wrap;
      gap: 24px;
      font-size: 14px;
      margin-top: 12px;
    }

    .contact-label {
      text-transform: uppercase;
      letter-spacing: 0.14em;
      font-size: 12px;
      color: var(--muted);
    }

    a {
      color: inherit;
      text-decoration: none;
      border-bottom: 1px solid rgba(0, 0, 0, 0.18);
    }

    a:hover {
      border-bottom-color: rgba(0, 0, 0, 0.4);
    }

    /* Responsive */
    @media (max-width: 900px) {
      main {
        margin-top: 40px;
        padding: 0 20px 72px;
      }
      .top-bar {
        flex-direction: column;
        gap: 12px;
      }
      .intro-grid {
        grid-template-columns: 1fr;
        gap: 32px;
      }
      .services-grid {
        grid-template-columns: 1fr 1fr;
        row-gap: 40px;
      }
      .projects-grid {
        grid-template-columns: 1fr 1fr;
      }
    }

    @media (max-width: 640px) {
      .services-grid {
        grid-template-columns: 1fr;
      }
      .projects-grid {
        grid-template-columns: 1fr;
      }
      .section-heading {
        font-size: 26px;
      }
      .intro-heading {
        font-size: 32px;
      }
    }

        /* Code snippet blocks (lightweight, GitHub-ish) */
    .code-block {
      border: 1px solid #e6e8ee;
      border-radius: 12px;
      background: #fbfcfe;
      overflow: hidden;
      margin: 12px 0 18px;
    }

    .code-block .code-titlebar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 12px;
      padding: 10px 14px;
      border-bottom: 1px solid #eef1f6;
      font-size: 12px;
      color: #6b7280;
    }

    .code-block .code-titlebar .label {
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
    }

    .code-block pre {
      margin: 0;
      padding: 14px 16px;
      overflow: auto;
      line-height: 1.55;
      font-size: 13px;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      color: #111827;
    }

    .code-block code { white-space: pre; }

    /* Minimal token colors for JSON/Python-ish snippets (works without JS libs) */
    .code-block .tok-key { color: #b91c1c; }      /* red */
    .code-block .tok-str { color: #1d4ed8; }      /* blue */
    .code-block .tok-num { color: #7c3aed; }      /* purple */
    .code-block .tok-bool { color: #0f766e; }     /* teal */
    .code-block .tok-kw { color: #b45309; }       /* amber */
    .code-block .tok-fn { color: #6d28d9; }       /* indigo */
    .code-block .tok-cmpr { color: #374151; }     /* gray */

      /* Show full code block (no vertical scroll) */
  .code-block pre {
    max-height: none !important;
    height: auto !important;

    /* Only horizontal scroll if a long line exists */
    overflow-x: auto;
    overflow-y: visible;

    /* Let the pre expand to fit all lines */
    white-space: pre;            /* keep formatting */
  }

  /* Optional: wrap long lines instead of horizontal scrolling */
  .code-block.pre-wrap pre {
    white-space: pre-wrap;       /* preserves indentation but wraps */
    overflow-x: hidden;
  }

  /* If you’re using <code> styles that force nowrap, neutralize them */
  .code-block pre code {
    white-space: inherit;
  }

      .bubble-actions{
      display:flex;
      gap:12px;
      flex-wrap:wrap;
      margin-top:18px;
    }

    .bubble-btn{
      display:inline-flex;
      align-items:center;
      gap:10px;

      padding:10px 14px;
      border-radius:999px;

      border:1px solid rgba(0,0,0,0.14);
      background:#ffffff;

      font-weight:600;
      font-size:14px;
      letter-spacing:0.01em;
      color:#111;

      text-decoration:none;
      box-shadow:0 1px 0 rgba(0,0,0,0.04);
      transition:transform 120ms ease, box-shadow 120ms ease, background 120ms ease, border-color 120ms ease;
    }

    .bubble-btn:hover{
      transform:translateY(-1px);
      box-shadow:0 10px 24px rgba(0,0,0,0.08);
      border-color:rgba(0,0,0,0.20);
    }

    .bubble-btn:active{
      transform:translateY(0px);
      box-shadow:0 4px 12px rgba(0,0,0,0.06);
    }

    .bubble-btn:focus-visible{
      outline:2px solid rgba(0,0,0,0.55);
      outline-offset:3px;
    }

    .bubble-btn-icon{
      display:inline-flex;
      width:18px;
      height:18px;
      align-items:center;
      justify-content:center;

      border-radius:999px;
      border:1px solid rgba(0,0,0,0.12);
      font-size:12px;
      line-height:1;
      opacity:0.9;
    }

    .bubble-btn--ghost{
      background:transparent;
    }


  </style>
</head>
<body>
<main>

  <!-- Top bar -->
    <div class="top-bar">
      <div class="brand">Multimorbidity-Anchored ICU Phenotypes (MAIP)</div>
      <div class="tagline">
        A Dual-Approach Unsupervised Learning Strategy with<br>
        RAG-Assisted Translation of Surrogate Rules
      </div>
    </div>

      <h1 class="intro-title" id="intro">Hari S. Sreedeth</h1>
      <div class="intro-role">
        Health Data Science &nbsp;·&nbsp; Clinical Research &nbsp;·&nbsp; Statistical Learning
      </div>

      <!-- <h2 class="service-block" id="service-block-title">Context</h2>
      <div class="context-abstract">
        <p>
          ICU populations are heterogeneous: long-term outcomes reflect a mixture of baseline multimorbidity and acute
          physiological derangement. In practice, many clustering approaches collapse into a single “more sick vs less sick”
          axis because chronic disease burden, age and severity scores dominate similarity structure. This limits interpretability
          and makes phenotypes hard to operationalise for stratified analysis, cohort definition, or hypothesis generation.
        </p>
        <p>
          MAIP addresses this by <b>anchoring phenotyping in multimorbidity strata</b>, then learning consensus subgroups from
          complementary data “views” (chronic comorbidity, acute physiology, and socio-context) using a lightweight similarity-network
          fusion routine (SNF-lite). Cluster number is selected using bootstrap stability (Adjusted Rand Index), and phenotypes are
          evaluated on held-out outcomes using unadjusted Kaplan–Meier/logrank comparisons and adjusted Cox proportional hazards
          models, alongside discrimination checks (cross-validated C-index uplift).
        </p>
        <p>
          To make the resulting phenotypes auditable, MAIP distils cluster assignments into sparse, human-readable decision rules
          (shallow surrogate trees exported as canonical JSON), then renders clinician-facing rulecards and ASCII flowcharts via a
          retrieval-augmented prompting pipeline using a remote model accessed through the OpenAI API (GPT-4.1-mini). A QC layer
          programmatically verifies feature naming/units, rule coverage and synthetic-profile consistency, enabling end-to-end
          traceability from raw data to phenotype definitions.
        </p>
      </div> -->


  <!-- Introduction -->
  <div class="intro-heading">Introduction</div>
  <hr />

  <section class="intro-grid" aria-labelledby="intro">
    <div>
      <div class="intro-text">
        <p>
        Critically ill patients arriving in intensive care rarely fit neat templates. Even within a single ICU, patients differ 
        widely in age, comorbidity burden, physiology and social context. This heterogeneity makes it hard to reason about 
        prognosis, compare like with like, or decide which treatment strategies are most appropriate.
        </p>
        <p>
        Unsupervised machine learning is an obvious tool for this problem, and a large body of ICU phenotyping work already exists.
        However, in practice many clustering pipelines are dominated by the blunt signal of multimorbidity: patients with more
        chronic disease, and who are older, simply get grouped together. The resulting “phenotypes” often mirror gradients
        in age and comorbidity count rather than revealing distinct, acute physiological patterns that could plausibly
        change clinical decisions.
        </p>
        <div class="sidenote" id="sn1">
            <span class="sidenote-number">1</span>
            See GitHub repository: <a href="https://github.com/hsreedeth/ProjectMAIP" target="_blank">Project-MAIP</a>.
        </div>
        <p>
        The Multimorbidity-Anchored ICU Phenotypes (MAIP) project<span class="sidenote-ref" id="sn2-ref">1</span> is my attempt
        to tackle that limitation in a principled, end-to-end way using the SUPPORT-II cohort (over 9,000-patient sample from
        the Study to Understand Prognoses, Preferences, Outcomes and Risks of Treatment)<span class="sidenote-ref" id="sn1-ref">2</span>.
        designed MAIP as a full pipeline that (i) explicitly separates chronic disease burden from acute physiology and (ii)
        carries the resulting clusters all the way through to a human-readable bedside tool. 
        </p>
        <div class="sidenote" id="sn2">
            <span class="sidenote-number">2</span>
            Vanderbilt University Department of Biostatistics,<br>Professor Frank Harrell 2022 <a href="https://hbiostat.org/data/" target="_blank">Support-II</a>.
        </div>
      </div>
    </div>

    <div class="intro-text">
      <p>
      Methodologically, MAIP combines two complementary unsupervised pathways: a multimorbidity-stratified phenotyping route (MMSP) 
      and a simplified multi-view Similarity Network Fusion implementation (SNF-lite). Once stable clusters are identified, 
      I train a sparse decision-tree surrogate model to approximate the cluster assignments. The tree’s branch structure is 
      exported as structured JSON rules, which are then translated into a clinician-facing rulecard and ASCII flowchart 
      using a remote model accessed through the OpenAI API (GPT-4.1-mini). 
      The RAG layer is grounded in a curated corpus of variable definitions, phenotype summaries and style guidance, and is 
      coupled with programmatic checks to ensure that the textual rulecard remains logically 
      faithful to the underlying JSON rules.
      </p>
      <p>
        The project therefore has two concrete goals:
      </p>
      <p>
        • <strong>Derive</strong> ICU phenotypes that are not just “more sick vs less sick” along a comorbidity axis<br />
        • <strong>Demonstrate</strong> a robust, versioned , maintainable & auditable pathway from unsupervised clustering to a deployable, human-readable decision tool.<br />
      </p>
    </div>
  </section>

  <!-- Capabilities / Services
  <h2 class="section-heading">Project Overview</h2>
  <p class="section-lead">
    I treat each project as a combination of research and
    translation. Below is how that played out in MAIP similar to my other related work.
  </p>

  <section class="services-grid" aria-label="Overview">
    <div class="service-block">
      <div class="service-block-title">Study Design & Data Source</div>
      <p>
        Retrospective cohort analysis of ~9,000 critically ill adults from the 
        multicentre SUPPORT-II dataset. Includes demographics, comorbidities,
        physiological measurements at ICU admission, severity scores and 
        longitudinal outcomes. Only features required for clustering are used; 
        outcome variables (mortality, length of stay) are held out for 
        independent validation.
      </p>
    </div>

    <div class="service-block">
      <div class="service-block-title">Feature Engineering &amp; Views</div>
      <p>
        Constructed a feature matrix organised into three clinical views:
        (1) chronic disease burden (C-View), (2) acute physiology (P-View), and (3) socio-contextual 
        characteristics (S-View). Categorical variables are encoded interpretably and 
        continuous variables are transformed where needed and standardised. 
        Missing data are imputed using an outcome-free recipe, with optional 
        missingness indicators. Outcomes live in a separate Y-matrix.
      </p>
    </div>

    <div class="service-block">
      <div class="service-block-title">Phenotyping: MMSP & SNF-lite</div>
      <p>
        Implemented two complementary unsupervised pipelines. MMSP stratifies patients by multimorbidity level, runs PCA on the z-scaled physiology view within each stratum, and applies PAM k-medoids on Euclidean distances in the PCA space. SNF-lite constructs view-specific similarity matrices (Gower / RBF), fuses them with a lightweight Similarity Network Fusion routine, and uses spectral clustering on the fused graph. Candidate cluster numbers (K) are chosen using bootstrap stability metrics, standard internal indices and clinical interpretability.
      </p>
    </div>

    <div class="service-block">
      <div class="service-block-title">Surrogate Decision Tree</div>
      <p>
        Trained a shallow, constrained decision-tree surrogate on a curated set 
        of interpretable variables to approximate final cluster assignments. 
        Tuned depth and node-size to balance fidelity and simplicity. Evaluated 
        performance using accuracy, macro-averaged F1 and confusion matrices to 
        identify phenotypes that are intrinsically hard to separate with simple 
        rules. Exported the final tree into a strict JSON rule schema capturing 
        features, thresholds, operators and phenotype labels.
      </p>
    </div>
    <div class="service-block">
      <div class="service-block-title">RAG-Assisted Translation & QC</div>
      <p>
        Used a retrieval-augmented pipeline with remote GPT-4.1-mini to convert
        JSON surrogate-tree rules into clinician-facing rulecards and ASCII
        flowcharts. For each phenotype, the prompt combines the canonical JSON
        rules with a curated variable dictionary, analytically derived phenotype
        summaries and a style guide. Prompts enforce “no new logic” and a
        one-to-one mapping from JSON to text. Programmatic checks compare JSON
        rules and textual rules on synthetic patient profiles and verify
        consistency of feature names, units and phenotype labels. All JSON,
        prompts and model outputs are versioned for auditability.
      </p>
    </div>
  </section> -->

  <img
  src="Overview Schematic.svg"
  alt="Overview schematic"
  style="display:block; margin-left:auto; max-width:100%; height:auto;"
  >

  <!-- Phase matrix
  <h2 class="section-heading">Where I Add Value</h2>
  <p class="section-lead">
    Rough mapping of my skills to the main phases of a data-science project:
    from early design through to deployment-ready documentation.
  </p>

  <table class="phase-table" aria-label="Skills across project phases">
    <thead>
      <tr>
        <th></th>
        <th>Design</th>
        <th>Build</th>
        <th>Validate</th>
        <th>Communicate</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>
          <div class="skill-name">Study design &amp; protocol writing</div>
          <div class="phase-label">Question, cohorts, outcomes</div>
        </td>
        <td class="dot-cell"><span class="dot dot--active"></span></td>
        <td class="dot-cell"><span class="dot dot--active"></span></td>
        <td class="dot-cell"><span class="dot"></span></td>
        <td class="dot-cell"><span class="dot dot--active"></span></td>
      </tr>
      <tr>
        <td>
          <div class="skill-name">Data engineering &amp; harmonisation</div>
          <div class="phase-label">ICU events, risk factors, wide/long views</div>
        </td>
        <td class="dot-cell"><span class="dot"></span></td>
        <td class="dot-cell"><span class="dot dot--active"></span></td>
        <td class="dot-cell"><span class="dot dot--active"></span></td>
        <td class="dot-cell"><span class="dot"></span></td>
      </tr>
      <tr>
        <td>
          <div class="skill-name">Unsupervised phenotyping</div>
          <div class="phase-label">LCA, SNF-lite, cluster stability</div>
        </td>
        <td class="dot-cell"><span class="dot"></span></td>
        <td class="dot-cell"><span class="dot dot--active"></span></td>
        <td class="dot-cell"><span class="dot dot--active"></span></td>
        <td class="dot-cell"><span class="dot"></span></td>
      </tr>
      <tr>
        <td>
          <div class="skill-name">Prognostic &amp; risk modelling</div>
          <div class="phase-label">Cox PH, competing risks, calibration</div>
        </td>
        <td class="dot-cell"><span class="dot"></span></td>
        <td class="dot-cell"><span class="dot dot--active"></span></td>
        <td class="dot-cell"><span class="dot dot--active"></span></td>
        <td class="dot-cell"><span class="dot"></span></td>
      </tr>
      <tr>
        <td>
          <div class="skill-name">LLM + RAG decision support</div>
          <div class="phase-label">Surrogate trees, rulecards, safety rails</div>
        </td>
        <td class="dot-cell"><span class="dot"></span></td>
        <td class="dot-cell"><span class="dot dot--active"></span></td>
        <td class="dot-cell"><span class="dot"></span></td>
        <td class="dot-cell"><span class="dot dot--active"></span></td>
      </tr>
      <tr>
        <td>
          <div class="skill-name">Reproducible research</div>
          <div class="phase-label">Versioned code, docs, pipelines</div>
        </td>
        <td class="dot-cell"><span class="dot"></span></td>
        <td class="dot-cell"><span class="dot dot--active"></span></td>
        <td class="dot-cell"><span class="dot dot--active"></span></td>
        <td class="dot-cell"><span class="dot dot--active"></span></td>
      </tr>
    </tbody>
  </table> -->

  <!-- Methods -->
  <h2 class="section-heading">Study design and data source</h2>

  <!-- <section class="intro-grid" aria-labelledby="intro">
    <div> -->
      <div class="intro-text">
        <p>
        The study is styled as a retrospective cohort analysis using the SUPPORT-II dataset. Analyses were performed on a cleaned analytic cohort 
        of 9,105 adult ICU admissions with baseline data sufficient to construct the chronic comorbidity and acute physiology 
        feature views used for phenotyping. The cohort is characterised by an older case-mix (age median 64.9 years, IQR 52.8–74.0) 
        and a modest male predominance (56%). Race was predominantly White (~79%) with a substantial Black minority (~15%). 
        Chronic disease burden was moderate overall (comorbidity count median 2, IQR 1–3., range 0–9), and baseline functional status 
        (ADL-based score) was low-to-moderate (median 1, IQR 0–2).
        </p>
        <p>
        Physiological measurements near ICU admission span a wide acuity range (e.g., APS median 34, IQR 23–49., PaO₂/FiO₂ ratio 
        median 276, IQR 180–333., creatinine median 1.2 mg/dL, IQR 0.9–1.9), supporting discovery of within-stratum acute 
        presentations rather than a single severity gradient. Outcomes were available for validation only, including in-hospital 
        mortality (25.9%), time to death/censoring (d.time median 233 days, IQR 26–761), ICU and hospital length of stay 
        (median 5 and 11 days, respectively), and total medical costs (median ~$27.6k, IQR ~$13.9k–$64.3k). No outcome 
        variables were used to construct phenotypes., outcome fields were held out and reserved for downstream validation analyses.
        </p>
      </div>
    <!-- </div><br> -->
  <!-- </section> -->

<h3 class="section-heading">Variable Summary</h3>
<p class="section-lead">
  Key characteristics of the SUPPORT-II cohort (N=9,105). Continuous variables are
  summarised as mean&nbsp;&plusmn;&nbsp;SD and median (IQR); binary variables as
  N&nbsp;(%).
</p><br>

<table class="phase-table variable-table" aria-label="Variable summary table">
  <thead>
    <tr>
      <th>Characteristic</th>
      <th>N / Mean&nbsp;&plusmn;&nbsp;SD</th>
      <th>Median (IQR)</th>
      <th>Dtype</th>
    </tr>
  </thead>
  <tbody>
    <tr class="section-row">
      <td colspan="4">Demographics</td>
    </tr>
    <tr>
      <td>Age (years)</td>
      <td>62.65&nbsp;&plusmn;&nbsp;15.59</td>
      <td>64.86 (52.80,&nbsp;73.99)</td>
      <td>Continuous</td>
    </tr>
    <tr>
      <td>Male sex (sex=1)</td>
      <td>5,125 (56.27%)</td>
      <td>&mdash;</td>
      <td>Binary</td>
    </tr>
    <tr>
      <td>Income category (1–4)</td>
      <td>1.94&nbsp;&plusmn;&nbsp;0.89</td>
      <td>2.00 (1.00,&nbsp;2.00)</td>
      <td>Ordinal</td>
    </tr>
    <tr>
      <td>Education (years)</td>
      <td>11.37&nbsp;&plusmn;&nbsp;3.22</td>
      <td>12.00 (10.00,&nbsp;14.00)</td>
      <td>Integer</td>
    </tr>

    <tr class="section-row">
      <td colspan="4">Multimorbidity &amp; Chronic conditions</td>
    </tr>
    <tr>
      <td>Comorbidity count (num.co)</td>
      <td>1.87&nbsp;&plusmn;&nbsp;1.34</td>
      <td>2.00 (1.00,&nbsp;3.00)</td>
      <td>Count (skewed)</td>
    </tr>
    <tr>
      <td>Diabetes</td>
      <td>1,789 (19.65%)</td>
      <td>&mdash;</td>
      <td>Binary</td>
    </tr>
    <tr>
      <td>Dementia</td>
      <td>553 (6.07%)</td>
      <td>&mdash;</td>
      <td>Binary</td>
    </tr>
    <tr>
      <td>Cancer status (ca, 0–2)</td>
      <td>0.55&nbsp;&plusmn;&nbsp;0.81</td>
      <td>0.00 (0.00,&nbsp;1.00)</td>
      <td>Ordinal index</td>
    </tr>
    <tr>
      <td>Chronic heart failure (dzgroup_chf)</td>
      <td>1,387 (15.23%)</td>
      <td>&mdash;</td>
      <td>Binary</td>
    </tr>
    <tr>
      <td>COPD (dzgroup_copd)</td>
      <td>967 (10.62%)</td>
      <td>&mdash;</td>
      <td>Binary</td>
    </tr>

    <tr class="section-row">
      <td colspan="4">Acute physiology &amp; severity (Day-3 assessment)</td>
    </tr>
    <tr>
      <td>Acute Physiology Score (aps)</td>
      <td>37.60&nbsp;&plusmn;&nbsp;19.90</td>
      <td>34.00 (23.00,&nbsp;49.00)</td>
      <td>Continuous (skewed)</td>
    </tr>
    <tr>
      <td>SUPPORT prognostic score (sps)</td>
      <td>25.74&nbsp;&plusmn;&nbsp;13.96</td>
      <td>23.90 (15.00,&nbsp;34.10)</td>
      <td>Continuous</td>
    </tr>
    <tr>
      <td>Mean arterial pressure (meanbp, mmHg)</td>
      <td>84.55&nbsp;&plusmn;&nbsp;27.69</td>
      <td>77.00 (63.00,&nbsp;107.00)</td>
      <td>Continuous (skewed)</td>
    </tr>
    <tr>
      <td>PaO<sub>2</sub>/FiO<sub>2</sub> ratio (pafi, mmHg)</td>
      <td>263.39&nbsp;&plusmn;&nbsp;102.67</td>
      <td>276.19 (180.00,&nbsp;333.30)</td>
      <td>Continuous</td>
    </tr>
    <tr>
      <td>Creatinine (crea, mg/dL)</td>
      <td>1.77&nbsp;&plusmn;&nbsp;1.68</td>
      <td>1.20 (0.90,&nbsp;1.90)</td>
      <td>Continuous (skewed)</td>
    </tr>
    <tr>
      <td>Albumin (alb, g/dL)</td>
      <td>3.15&nbsp;&plusmn;&nbsp;0.68</td>
      <td>3.50 (2.70,&nbsp;3.50)</td>
      <td>Continuous</td>
    </tr>
    <tr>
      <td>Total bilirubin (bili, mg/dL)</td>
      <td>2.55&nbsp;&plusmn;&nbsp;4.42</td>
      <td>1.00 (0.50,&nbsp;2.50)</td>
      <td>Continuous (skewed)</td>
    </tr>
    <tr>
      <td>Blood urea nitrogen (bun, mg/dL)</td>
      <td>30.67&nbsp;&plusmn;&nbsp;22.29</td>
      <td>25.00 (15.00,&nbsp;40.00)</td>
      <td>Continuous (skewed)</td>
    </tr>
    <tr>
      <td>White blood cell count (wblc, &times;10<sup>3</sup>/&micro;L)</td>
      <td>14.76&nbsp;&plusmn;&nbsp;9.46</td>
      <td>13.00 (8.90,&nbsp;18.50)</td>
      <td>Continuous (skewed)</td>
    </tr>
    <tr>
      <td>Urine output (urine, L/day)</td>
      <td>1.71&nbsp;&plusmn;&nbsp;1.40</td>
      <td>1.47 (0.80,&nbsp;2.27)</td>
      <td>Continuous (skewed)</td>
    </tr>

    <tr class="section-row">
      <td colspan="4">Outcomes &amp; resource use (held out for validation)</td>
    </tr>
    <tr>
      <td>In-hospital death (hospdead)</td>
      <td>2,360 (25.92%)</td>
      <td>&mdash;</td>
      <td>Binary</td>
    </tr>
    <tr>
      <td>Follow-up time (d.time, days)</td>
      <td>478.45&nbsp;&plusmn;&nbsp;567.46</td>
      <td>233.00 (26.00,&nbsp;761.00)</td>
      <td>Time-to-event (skewed)</td>
    </tr>
    <tr>
      <td>Hospital length of stay (slos, days)</td>
      <td>17.86&nbsp;&plusmn;&nbsp;22.01</td>
      <td>11.00 (6.00,&nbsp;20.00)</td>
      <td>Continuous (skewed)</td>
    </tr>
    <tr>
      <td>Total medical cost (totmcst, $)</td>
      <td>28,839.15&nbsp;&plusmn;&nbsp;43,608.61</td>
      <td>13,228.93 (5,179.89,&nbsp;34,263.85)</td>
      <td>Cost (38.2% missing)</td>
    </tr>
  </tbody>
</table>


<h3 class="section-heading">Feature engineering and view construction</h3>
  <div class="intro-text">
    <p>
      To support multi-view phenotyping, X was organised into three views constructed deterministically from the cleaned SUPPORT-II table. 
      The comorbidity view includes chronic burden variables (num.co, diabetes, dementia, ca) and diagnostic-group indicators derived from 
      dzgroup (expanded to one-hot columns dzgroup_*). The physiology view includes Day-3 physiologic measurements and severity/coma 
      variables (meanbp, hrt, resp, temp, wblc, sod, crea, alb, bili, bun, ph, pafi, urine, glucose, aps, sps, scoma, avtiss) and 
      selected baseline indicators used in similarity modelling (including one-hot encodings derived from race and dnr). The 
      socio-contextual view includes baseline demographic and socioeconomic proxies (age, sex, income, edu). Categorical fields 
      were converted into explicit indicator columns (e.g., race_*, dnr_*, dzgroup_*), and ordinal fields were mapped into ordered 
      integer scales (e.g., income recoded to 1–4). Diagnostic class (dzclass) was expanded during preprocessing but was not retained 
      in the final feature set used for modelling.
    </p>
    <br>
              <img
  src="ViewConstructionF.svg"
  alt="View construction schematic"
  style="display:block; margin-left:auto; max-width:100%; height:auto;"
  >
  <br>
    <p>
      Missingness in X was handled without reference to Y. Prior to imputation, records missing any “low-missingness” core variables 
      (operationalised as variables with ≤82 missing values in the analytic extract) were removed. For a small set of physiologic fields, 
      missing values were initialised to clinically typical defaults (alb=3.5, pafi=300, bili=0.8, crea=1.0, bun=20, wblc=10, urine=1.0) 
      before multivariable imputation. Remaining missing values in X were imputed using an iterative multivariable procedure 
      (IterativeImputer with BayesianRidge, max_iter=50, random_state=42) applied only to the feature set (excluding eid and all Y fields). 
      After imputation, constrained variables were rounded and clipped to preserve valid support for downstream modelling 
      (e.g., income limited to 1–4; edu limited to 0–31; binary indicators coerced to {0,1}).
    </p>
  </div>

<h3 class="section-heading">Phenotyping strategy: multimorbidity-stratified baseline (MMSP) and multi-view fusion (SNF-lite)</h3>
  <section class="intro-grid" aria-labelledby="intro">
    <div>
      <div class="section-lead">
        <p>
          Phenotyping was implemented as two within-stratum unsupervised pipelines, each applied separately to 
          the same multimorbidity strata and using only the feature matrix X (no outcomes). Multimorbidity 
          strata were defined from the comorbidity count (num.co) using fixed cut-points: 
          Low_MM (0–1), Mid_MM (2–3), and High_MM (≥4), implemented as bins [0,2), [2,4), [4,∞). 
          Within each stratum, the pipelines produced candidate cluster assignments and a shared set of 
          internal selection metrics (bootstrap stability and separation indices) used for model comparison.
        </p>
      </div>
      <div class="intro-text">
        <p><strong>MMSP (baseline): physiology-only clustering within multimorbidity strata</strong></p>
        <p>
        The MMSP baseline clusters acute physiology features only within each multimorbidity stratum, using 
        the pre-scaled physiology matrix (P_view_scaled.csv). For a given stratum, near-constant physiology 
        columns (within-stratum standard deviation ≤1e-8) were dropped to avoid degenerate PCA components. 
        Dimensionality reduction was then performed with PCA (not FAMD): the number of components was chosen 
        to retain approximately 80% cumulative explained variance, with a minimum of 2 components where 
        feasible and never exceeding the number of retained physiology features.
        </p>

          <img
            src="MMSP.svg"
            alt="Cluster Sizes"
            style="display:block; margin-left:auto; max-width:200%; height:auto;"
          >
        <div class="sidenote" id="sn3">
            <span class="sidenote-number">MMSP Workflow</span>
            Multimorbidity-Stratified Phenotyping (MMSP) workflow.
            Patients are first partitioned into low, mid and high multimorbidity strata by comorbidity count. Within each stratum, the day-3 physiology view (vitals, labs and severity scores) is reduced with PCA, Euclidean distances are computed, and PAM (k-medoids) clustering is applied to yield separate high-, mid- and low-burden ICU phenotypes.
        </div>
        <p>
          Clustering was performed on the PCA embedding using PAM k-medoids on Euclidean distances computed 
          in the PCA space. Candidate numbers of clusters were evaluated over K = 2…8. For each K, clustering 
          stability was estimated using bootstrap subsampling (fraction 0.80, B=100) and Adjusted Rand Index 
          (ARI) computed across pairs of bootstrap runs on the overlap of sampled individuals. Internal 
          separation metrics (silhouette, Calinski–Harabasz, Davies–Bouldin) were computed from a 
          representative fit at each K. Final K selection used a stability-first rule: retain K values within 
          20% of the best stability, then select the best among those by highest silhouette, then highest 
          Calinski–Harabasz, then lowest Davies–Bouldin. The final MMSP partition for the chosen K was 
          obtained using best-of-20 restarts to reduce sensitivity to initialization.
        </p>

          <!-- <p class = "section-lead">
            Multimorbidity-Stratified Phenotyping (MMSP) workflow.
            Patients are first partitioned into low, mid and high multimorbidity strata by comorbidity count. Within each stratum, the day-3 physiology view (vitals, labs and severity scores) is reduced with PCA, Euclidean distances are computed, and PAM (k-medoids) clustering is applied to yield separate high-, mid- and low-burden ICU phenotypes.
          </p><br> -->

      </div>

<section class="pca-strip">
  <p><strong>Physiology Space</strong></p>
  <p class="section-lead">
    PCA of the acute physiology view (P-view) within each multimorbidity stratum.
    Points are coloured by MMSP cluster; arrows indicate the main contributing
    physiological variables.
  </p>

  <div class="pca-grid">
    <!-- Low burden -->
    <figure class="pca-card">
      <img
        src="pca_biplot_2d_Low_MM.png"
        alt="PCA biplot of MMSP clusters in the low multimorbidity stratum"
        class="pca-card-image"
      />
      <figcaption class="section-lead">
        <span class="pca-card-title">Low multimorbidity (N = 4,183)</span>
      </figcaption>
    </figure>

    <!-- Mid burden -->
    <figure class="pca-card">
      <img
        src="pca_biplot_2d_Mid_MM.png"
        alt="PCA biplot of MMSP clusters in the mid multimorbidity stratum"
        class="pca-card-image"
      />
      <figcaption class="section-lead">
        <span class="pca-card-title">Mid multimorbidity (N = 3,822)</span>
      </figcaption>
    </figure>

    <!-- High burden -->
    <figure class="pca-card">
      <img
        src="pca_biplot_2d_High_MM.png"
        alt="PCA biplot of MMSP clusters in the high multimorbidity stratum"
        class="pca-card-image"
      />
      <figcaption class="section-lead">
        <span class="pca-card-title">High multimorbidity (N = 1,100)</span>
      </figcaption>
    </figure>
  </div>
</section>

<section class="heatmap-strip">
  <p><strong>MMSP cluster profiles</strong></p>
  <p class="section-lead">
    Heatmaps of MMSP clusters within each multimorbidity stratum. Colours show
    cluster-level z-scores for selected comorbidities and key physiology
    variables; warmer cells indicate relative enrichment within a cluster.
  </p>

  <div class="heatmap-grid">
    <figure>
      <img
        src="heatmap_mmsp_Low_MM.png"
        alt="MMSP cluster profiles in the low multimorbidity stratum"
      />
            <figcaption class="section-lead">
        <span class="pca-card-title">Low multimorbidity (N = 4,183)</span>
      </figcaption>
    </figure>

    <figure>
      <img
        src="heatmap_mmsp_Mid_MM.png"
        alt="MMSP cluster profiles in the mid multimorbidity stratum"
      />
            <figcaption class="section-lead">
        <span class="pca-card-title">Low multimorbidity (N = 4,183)</span>
      </figcaption>
    </figure>

    <figure>
      <img
        src="heatmap_mmsp_High_MM.png"
        alt="MMSP cluster profiles in the high multimorbidity stratum"
      />
            <figcaption class="section-lead">
        <span class="pca-card-title">Low multimorbidity (N = 4,183)</span>
      </figcaption>
    </figure>
  </div>

  </section>

<div class="sidenote" id="sn4">
  <span class="sidenote-number">MMSP cluster profiles by multimorbidity stratum</span>
  For each low, mid and high
  multimorbidity group, the heatmaps display z-scored cluster averages of
  selected comorbidities and age/APS, highlighting relative enrichment and
  depletion across MMSP phenotypes.
</div>

            <div class="intro-text">
        <p><strong>SNF-lite: multi-view similarity fusion within multimorbidity strata</strong></p>
        <p>
        SNF-lite integrates three feature views—comorbidity (C_view.csv), physiology (P_view.csv), and 
        socio-contextual (S_view.csv)—within each multimorbidity stratum. Prior to similarity construction, 
        low-signal variables in the comorbidity and socio-contextual views were removed: constants were 
        dropped, and binary indicators with extreme prevalence (p<0.005 or p>0.995) were excluded. 
        A safeguard check prevents a set of known outcome fields (e.g., death, hospdead, d.time, slos, 
        totmcst) from being present in the C/S views used for fusion.
        </p>
        <p>
        View-specific patient affinities were then constructed as follows. For comorbidity and socio-contextual 
        views, a Gower-like similarity was computed using: (i) min–max scaling for numeric columns followed by 
        average Manhattan distance, (ii) simple mismatch distance for multi-level categoricals, and (iii) an 
        asymmetric binary treatment for {0,1} indicators using a Jaccard-style distance that ignores 0–0 matches, 
        optionally weighted by prevalence (approximately p(1−p)) to down-weight extremely rare/common flags. 
        For the physiology view, an RBF affinity was computed after standardization; the kernel used a local 
        scaling parameter per individual based on the 7th nearest-neighbour distance (k_local=7) to reduce 
        sensitivity to absolute scale differences across patients.
        </p>
        <p>
        Fusion used a lightweight SNF routine. Each view affinity was KNN-masked to its top k=25 neighbours 
        (include self), row-normalized to a row-stochastic matrix (diagonal set to 0), and iteratively updated 
        for 10 iterations with mixing parameter α=0.5:
        </p>
        <br>
        <p>
          \[
          P_v \leftarrow \alpha\,P^{\mathrm{KNN}}_v + (1-\alpha)\,\frac{1}{V-1}\sum_{u \ne v} P_u
          \]
        </p>
        <br>
        <p>
        followed by row-normalization. The final fused affinity was the mean across views and was symmetrized.

        <br>
        <p>Clustering and K selection were performed on the fused affinity via spectral embedding followed by 
          PAM k-medoids on Euclidean distances in the embedding space. Candidate K values were evaluated over 
          K = 2…8, with the same bootstrap ARI stability procedure (B=100, subsample 0.80) and the same 
          internal separation metrics. The same stability-first selection rule (20% tolerance from best 
          stability; then silhouette/CH/DB tie-breaks) was applied. In addition, an eigengap diagnostic was 
          computed from a KNN-sparsified normalized Laplacian (KNN=25) and recorded as a transparency aid. 
          when the eigengap-suggested K achieved a silhouette within 95% of the selected K’s silhouette, 
          the pipeline permitted preferring the eigengap K and refitting labels at that K (as implemented).</p>
        </p>

        <img
            src="SNF-Lite.svg"
            alt="SNF-Lite"
            style="display:block; margin-left:auto; max-width:200%; height:auto;"
          >       

        <div class="sidenote" id="sn4">
            <span class="sidenote-number">SNF-lite workflow</span>
            Multimorbidity strata feed C, P and S views into a lightweight similarity network fusion step, which produces a fused affinity matrix and spectral-clustering–derived phenotypes across low, mid and high burden groups.
        </div>
      </div>
    <div>
 </section>

<section class="network-strip">
  <p><strong>SNF-lite patient similarity networks</strong></p>
  <p class="section-lead">
    k-nearest-neighbour graphs derived from the fused multi-view similarity
    matrix within each multimorbidity stratum. Each node is a patient, edges
    connect highly similar patients, and colours indicate SNF-lite cluster
    membership.
  </p>

  <div class="network-grid">
    <figure>
      <img
        src="snf_network_Low_MM.png"
        alt="SNF-lite patient similarity network in the low multimorbidity stratum"
      />
      <div class="network-caption">
        Low multimorbidity (N = 4,183)
      </div>
    </figure>

    <figure>
      <img
        src="snf_network_Mid_MM.png"
        alt="SNF-lite patient similarity network in the mid multimorbidity stratum"
      />
      <div class="network-caption">
        Mid multimorbidity (N = 3,822)
      </div>
    </figure>

    <figure>
      <img
        src="snf_network_High_MM.png"
        alt="SNF-lite patient similarity network in the high multimorbidity stratum"
      />
      <div class="network-caption">
        High multimorbidity (N = 1,100)
      </div>
    </figure>
  </div>
</section>

<div class="sidenote" id="sn5">
  <span class="sidenote-number">SNF-lite patient similarity networks by multimorbidity stratum.</span>
  Each panel
  shows the k-nearest-neighbour graph constructed from the fused multi-view
  similarity matrix; nodes are ICU admissions and edges represent strong
  pairwise similarities. Node colours denote SNF-lite clusters, which form
  visually distinct communities within the fused patient graph.
</div>

<section class="snf-strip">
  <p><strong>SNF cluster profiles</strong></p>
  <p class="section-lead">
    Heatmaps of SNF clusters within each multimorbidity stratum. Colours show
    cluster-level z-scores for selected comorbidities and key physiology
    variables; warmer cells indicate relative enrichment within a cluster.
  </p>

  <div class="snf-grid">
    <figure>
      <img
        src="heatmap_snf_Low_MM.png"
        alt="SNF cluster profiles in the low multimorbidity stratum"
      />
            <figcaption class="section-lead">
        <span class="pca-card-title">Low multimorbidity (N = 4,183)</span>
      </figcaption>
    </figure>

    <figure>
      <img
        src="heatmap_snf_Mid_MM.png"
        alt="SNF cluster profiles in the mid multimorbidity stratum"
      />
                  <figcaption class="section-lead">
        <span class="pca-card-title">Mid multimorbidity (N = 3,822)</span>
      </figcaption>
    </figure>

    <figure>
      <img
        src="heatmap_snf_High_MM.png"
        alt="SNF cluster profiles in the high multimorbidity stratum"
      />
                  <figcaption class="section-lead">
        <span class="pca-card-title">High multimorbidity (N = 1,100)</span>
      </figcaption>
    </figure>
  </div>
</section>

<h3 class="section-heading">Internal Validation of MMSP and <br>SNF-lite Clusters</h3>
  <section class="intro-grid" aria-labelledby="intro">
    <div>
      <div class="intro-text">
        <p>
            Internal clustering performance of the multimorbidity-stratified phenotyping (MMSP) solution and
            the Similarity Network Fusion (SNF-lite) solution across high, mid and low multimorbidity strata.
            For each stratum, MMSP metrics are reported at the rule-selected K from phase&nbsp;1, and SNF-lite
            metrics are reported at the K chosen by the same stability-first selection rule (search range
            K = 3–8). Higher stability (ARI), silhouette and Calinski–Harabasz indices, and lower
            Davies–Bouldin indices, indicate better cluster separation. Across all strata, the SNF-lite
            solution with K = 3 shows consistently superior internal validity compared with MMSP; combined
            with prognostic and parsimony analyses, this motivated choosing SNF-lite as the primary
            phenotyping system.
        </p><br>
      </div>
    <div>
 </section>

<table class="phase-table variable-table" aria-label="MMSP vs SNF-lite internal validation table">
  <thead>
    <tr>
      <th>Stratum</th>
      <th>Method</th>
      <th>Clusters (K)</th>
      <th>Stability (ARI)</th>
      <th>Silhouette</th>
      <th>Calinski–Harabasz</th>
      <th>Davies–Bouldin</th>
    </tr>
  </thead>
  <tbody>
    <!-- High multimorbidity -->
    <tr class="section-row">
      <td colspan="7">High multimorbidity (4+ chronic conditions)</td>
    </tr>
    <tr>
      <td>High MM</td>
      <td>MMSP</td>
      <td>5</td>
      <td>0.221</td>
      <td>0.115</td>
      <td>91.16</td>
      <td>2.48</td>
    </tr>
    <tr>
      <td>High MM</td>
      <td>SNF-lite</td>
      <td>3</td>
      <td>0.477</td>
      <td>0.273</td>
      <td>406.91</td>
      <td>1.25</td>
    </tr>

    <!-- Mid multimorbidity -->
    <tr class="section-row">
      <td colspan="7">Mid multimorbidity (2–3 chronic conditions)</td>
    </tr>
    <tr>
      <td>Mid MM</td>
      <td>MMSP</td>
      <td>3</td>
      <td>0.321</td>
      <td>0.110</td>
      <td>367.23</td>
      <td>2.80</td>
    </tr>
    <tr>
      <td>Mid MM</td>
      <td>SNF-lite</td>
      <td>3</td>
      <td>0.670</td>
      <td>0.319</td>
      <td>1566.30</td>
      <td>1.13</td>
    </tr>

    <!-- Low multimorbidity -->
    <tr class="section-row">
      <td colspan="7">Low multimorbidity (0–1 chronic condition)</td>
    </tr>
    <tr>
      <td>Low MM</td>
      <td>MMSP</td>
      <td>4</td>
      <td>0.267</td>
      <td>0.114</td>
      <td>370.92</td>
      <td>2.61</td>
    </tr>
    <tr>
      <td>Low MM</td>
      <td>SNF-lite</td>
      <td>3</td>
      <td>0.607</td>
      <td>0.388</td>
      <td>1961.89</td>
      <td>1.05</td>
    </tr>
  </tbody>
</table>

<h3 class="section-heading">Cross-Validated Prognostic Value <br>of Phenotypes</h3>
  <section class="intro-grid" aria-labelledby="intro">
    <div>
      <div class="intro-text">
        <p>
            Prognostic performance was evaluated using 5-fold cross-validated Harrell’s C-index for 6-month mortality within each multimorbidity stratum. The base model included age, sex, number of comorbidities (num.co) and APS, and was compared against versions augmented with MMSP or SNF-lite phenotypes. Across low (N = 4,183; 2,765 deaths), mid (N = 3,822; 2,648 deaths) and high multimorbidity (N = 1,100; 788 deaths), SNF-lite clusters consistently delivered larger gains in cross-validated C-index than MMSP clusters, with the strongest uplift in the low- and high-burden groups.<br>
      </p>
      </div>      
            <br><img
                src="deltaC.png"
                alt="Cluster Sizes"
                style="display:block; margin-left:auto; max-width:200%; height:auto;"
            >       
        <br><p>Figure 3: ΔC vs base (methods: MMSP, SNF-lite) </p><br>

            <div class="sidenote" id="sn3">
            <span class="sidenote-number">Figure 3</span>
                Cross-validated gain in Harrell’s C-index over the base clinical model, comparing MMSP and SNF-lite phenotypes within each multimorbidity stratum.
            </div>
        <div class="intro-text">
            <p>
            <br>Five-fold cross-validated Harrell’s C-index for 6-month mortality by multimorbidity stratum.
            The base model includes age, sex, number of comorbidities (num.co) and the Acute Physiology Score (APS).
            MMSP and SNF-lite phenotypes are added as categorical predictors; we report mean C-index and mean
            &Delta;C versus the base model across folds.
            </p>
      </div>
    <div>
 </section>

</h3>
<table class="phase-table variable-table" aria-label="Cross-validated prognostic comparison table">
  <thead>
    <tr>
      <th>Stratum</th>
      <th>Model</th>
      <th>Mean C-index</th>
      <th>Mean &Delta;C vs base</th>
    </tr>
  </thead>
  <tbody>
    <!-- High multimorbidity -->
    <tr class="section-row">
      <td colspan="4">High multimorbidity (4+ chronic conditions, N = 1,100; 788 deaths)</td>
    </tr>
    <tr>
      <td>High MM</td>
      <td>Base clinical model</td>
      <td>0.659</td>
      <td>&mdash;</td>
    </tr>
    <tr>
      <td>High MM</td>
      <td>Base + MMSP phenotypes</td>
      <td>0.662</td>
      <td>+0.003</td>
    </tr>
    <tr>
      <td>High MM</td>
      <td>Base + SNF-lite phenotypes</td>
      <td>0.674</td>
      <td>+0.015</td>
    </tr>

    <!-- Mid multimorbidity -->
    <tr class="section-row">
      <td colspan="4">Mid multimorbidity (2–3 chronic conditions, N = 3,822; 2,648 deaths)</td>
    </tr>
    <tr>
      <td>Mid MM</td>
      <td>Base clinical model</td>
      <td>0.642</td>
      <td>&mdash;</td>
    </tr>
    <tr>
      <td>Mid MM</td>
      <td>Base + MMSP phenotypes</td>
      <td>0.650</td>
      <td>+0.007</td>
    </tr>
    <tr>
      <td>Mid MM</td>
      <td>Base + SNF-lite phenotypes</td>
      <td>0.655</td>
      <td>+0.012</td>
    </tr>

    <!-- Low multimorbidity -->
    <tr class="section-row">
      <td colspan="4">Low multimorbidity (0–1 chronic condition, N = 4,183; 2,765 deaths)</td>
    </tr>
    <tr>
      <td>Low MM</td>
      <td>Base clinical model</td>
      <td>0.640</td>
      <td>&mdash;</td>
    </tr>
    <tr>
      <td>Low MM</td>
      <td>Base + MMSP phenotypes</td>
      <td>0.646</td>
      <td>+0.006</td>
    </tr>
    <tr>
      <td>Low MM</td>
      <td>Base + SNF-lite phenotypes</td>
      <td>0.682</td>
      <td>+0.042</td>
    </tr>
  </tbody>
</table>
<p class="section-lead">
  Across all strata, SNF-lite phenotypes yielded larger cross-validated gains in discrimination than MMSP
  phenotypes, supporting SNF-lite as the primary multi-view phenotyping system in MAIP.
</p>

<h3 class="section-heading">Parsimony &amp; Interpretability of <br>Phenotyping Systems</h3>
  <section class="intro-grid" aria-labelledby="intro">
    <div>
      <div class="intro-text">
        <p>
            MMSP and SNF-lite differ not only in how they discover structure, but also in how compact and
            interpretable the resulting phenotypes are. Below, I summarise the number and balance of clusters
            and the complexity of the surrogate decision trees in each multimorbidity stratum.
        </p><br>
      </div>
    <div>
 </section>

<table class="phase-table variable-table" aria-label="Parsimony and rule complexity table">
  <thead>
    <tr>
      <th>Stratum</th>
      <th>Method</th>
      <th>Clusters (K)</th>
      <th>Smallest cluster (% of stratum)</th>
      <th>Largest cluster (% of stratum)</th>
      <th>Number of rules</th>
      <th>Median conditions per rule</th>
      <th>Range of conditions (min–max)</th>
    </tr>
  </thead>
  <tbody>
    <!-- High multimorbidity -->
    <tr class="section-row">
      <td colspan="8">High multimorbidity (4+ chronic conditions, N = 1,100)</td>
    </tr>
    <tr>
      <td>High MM</td>
      <td>MMSP</td>
      <td>5</td>
      <td>1.6%</td>
      <td>46.6%</td>
      <td>14</td>
      <td>4</td>
      <td>3–4</td>
    </tr>
    <tr>
      <td>High MM</td>
      <td>SNF-lite</td>
      <td>3</td>
      <td>31.0%</td>
      <td>37.5%</td>
      <td>14</td>
      <td>4</td>
      <td>3–4</td>
    </tr>

    <!-- Mid multimorbidity -->
    <tr class="section-row">
      <td colspan="8">Mid multimorbidity (2–3 chronic conditions, N = 3,822)</td>
    </tr>
    <tr>
      <td>Mid MM</td>
      <td>MMSP</td>
      <td>3</td>
      <td>21.7%</td>
      <td>49.8%</td>
      <td>16</td>
      <td>4</td>
      <td>4–4</td>
    </tr>
    <tr>
      <td>Mid MM</td>
      <td>SNF-lite</td>
      <td>3</td>
      <td>26.2%</td>
      <td>44.2%</td>
      <td>13</td>
      <td>4</td>
      <td>2–4</td>
    </tr>

    <!-- Low multimorbidity -->
    <tr class="section-row">
      <td colspan="8">Low multimorbidity (0–1 chronic condition, N = 4,183)</td>
    </tr>
    <tr>
      <td>Low MM</td>
      <td>MMSP</td>
      <td>4</td>
      <td>8.0%</td>
      <td>43.8%</td>
      <td>15</td>
      <td>4</td>
      <td>3–4</td>
    </tr>
    <tr>
      <td>Low MM</td>
      <td>SNF-lite</td>
      <td>3</td>
      <td>11.4%</td>
      <td>58.6%</td>
      <td>11</td>
      <td>4</td>
      <td>2–4</td>
    </tr>
  </tbody>
</table>

<p class="section-lead">
  Both systems admit shallow surrogate trees with a median of four conditions per rule, but SNF-lite
  achieves this with fewer, generally better-balanced clusters, which simplifies explanation and
  naming of phenotypes for clinicians.
</p>

  <img
  src="Cluster Sizes.svg"
  alt="Cluster Sizes"
  style="display:block; margin-left:auto; max-width:100%; height:auto;"
>

<p class = "section-lead">
    Cluster balance in SNF-lite versus MMSP phenotypes.
    Each bubble represents the smallest and largest clusters in the most imbalanced stratum for each method. SNF-lite’s biggest imbalance occurs in the low multimorbidity stratum (11.4% vs 58.6%), 
    whereas MMSP shows a much more extreme tail in the high multimorbidity stratum, with a tiny 1.6% cluster alongside a dominant 46.6% cluster.
</p>

<section class="snf-head">
  <h3 class="section-heading">Concordance & Complementarity</h3>
  
  <div class="section-lead">
    <p>
      We next compared MMSP and SNF-lite labelings within each multimorbidity stratum. 
      Cross-tabulations and pairwise Venn diagrams showed that no SNF-lite cluster 
      mapped cleanly onto a single MMSP cluster or vice versa; most clusters shared 
      only partial overlap.
    </p>

<p><strong>Concordance between MMSP and SNF-lite phenotypes</strong></p>
<p class="section-lead">
  Agreement between MMSP and SNF-lite labels was quantified within each
  multimorbidity stratum using Adjusted Rand Index (ARI) and Normalised
  Mutual Information (NMI). Values near 0 indicate little more than random
  overlap; values near 1 indicate near-identical partitions.
</p>

<table class="phase-table concordance-table" aria-label="Concordance between MMSP and SNF-lite clusters">
  <thead>
    <tr>
      <th>Stratum</th>
      <th>Sample size (N)</th>
      <th>MMSP clusters<br>(K<sub>MMSP</sub>)</th>
      <th>SNF-lite clusters<br>(K<sub>SNF</sub>)</th>
      <th>Adjusted Rand Index<br>(ARI)</th>
      <th>Normalised Mutual<br>Information (NMI)</th>
      <th>Concordance summary</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Low multimorbidity (0–1 chronic condition)</td>
      <td>4,183</td>
      <td>4</td>
      <td>3</td>
      <td>0.078</td>
      <td>0.119</td>
      <td>Low concordance; large SNF clusters mix several MMSP phenotypes.</td>
    </tr>
    <tr>
      <td>Mid multimorbidity (2–3 chronic conditions)</td>
      <td>3,822</td>
      <td>3</td>
      <td>3</td>
      <td>0.141</td>
      <td>0.152</td>
      <td>Highest overlap, but still partial nesting and many-to-many mapping.</td>
    </tr>
    <tr>
      <td>High multimorbidity (4+ chronic conditions)</td>
      <td>1,100</td>
      <td>5</td>
      <td>3</td>
      <td>0.098</td>
      <td>0.129</td>
      <td>Low concordance; each SNF cluster draws from multiple MMSP clusters.</td>
    </tr>
  </tbody>
</table>

<div class="sidenote" id="sn-concordance">
  <span class="sidenote-number">Figure / Table X</span>
  Concordance between MMSP and SNF-lite phenotypes by multimorbidity stratum.
  ARI and NMI values around 0.1 indicate that MMSP and SNF-lite capture related
  but distinct structure; neither solution is a simple relabelling of the other.
</div>


    <p>
      Concordance metrics were modest <strong>(ARI 0.08–0.14; NMI 0.12–0.15)</strong>, 
      indicating that the two methods capture related but distinct structure in the 
      patient space. Together with the cross-validated prognostic analysis—where 
      both labelings improved discrimination over a clinical base model but SNF-lite 
      yielded the largest ΔC—this suggests that MMSP and SNF-lite provide 
      <strong>complementary phenotypic views</strong> rather than redundant partitions.
    </p>
    <p>
      We therefore treat SNF-lite phenotypes as the primary clustering solution, 
      with MMSP phenotypes providing a physiology-focused sensitivity and 
      interpretability check within comorbidity strata.
    </p>
  </div>

  <div class="snf-grid">
    <figure>
      <img
        src="sankey_Low_MM.png"
        alt="Sankey diagram showing patient flow between MMSP and SNF clusters in Low Multimorbidity"
      />
      <div class="snf-caption">
        Low multimorbidity (ARI = 0.08)
      </div>
    </figure>

    <figure>
      <img
        src="sankey_Mid_MM.png"
        alt="Sankey diagram showing patient flow between MMSP and SNF clusters in Mid Multimorbidity"
      />
      <div class="snf-caption">
        Mid multimorbidity (ARI = 0.14)
      </div>
    </figure>

    <figure>
      <img
        src="sankey_High_MM.png"
        alt="Sankey diagram showing patient flow between MMSP and SNF clusters in High Multimorbidity"
      />
      <div class="snf-caption">
        High multimorbidity (ARI = 0.10)
      </div>
    </figure>
  </div>
</section>

<h3 class="section-heading">SNF-lite Phenotype Profiles Across Multimorbidity Strata</h3>
<section class="intro-grid" aria-labelledby="snf-lite-profiles">
  <div>
    <div class="intro-text">
      <p>
        SNF-lite recovered three clinically coherent phenotypes within each multimorbidity
        stratum. In the high-burden cohort, clusters separate patients with diabetic
        multi-organ failure from chronic cardio–pulmonary and cardiometabolic cancer profiles.
        Mid-multimorbidity phenotypes span older COPD-dominant chronic respiratory disease,
        multi-organ failure with malignancy and cirrhosis, and compensated heart failure
        with solid tumours. Even among low-multimorbidity patients, SNF-lite distinguishes
        low-acuity solid tumour cases, neurologic catastrophe/coma, and acute multi-organ
        failure in otherwise low-comorbidity patients. Together, these nine phenotypes map
        onto familiar ICU patterns while making the spectrum of chronic burden and acute
        severity explicit.
      </p>
      <br>
    </div>
  </div>
</section>

<table class="phase-table variable-table" aria-label="SNF-lite cluster profiles by multimorbidity stratum">
  <thead>
    <tr>
      <th>Stratum</th>
      <th>Cluster</th>
      <th>Phenotype label</th>
      <th>Dominant comorbidities / features</th>
      <th>Acute physiology profile (relative within stratum)</th>
    </tr>
  </thead>
  <tbody>
    <!-- High multimorbidity -->
    <tr class="section-row">
      <td colspan="5">High multimorbidity (4+ chronic conditions)</td>
    </tr>
    <tr>
      <td>High MM</td>
      <td>H1</td>
      <td>Diabetic multi-organ failure</td>
      <td>
        High burden of acute renal failure / multi-organ system failure, frequent diabetes and cancer,
        substantial multimorbidity.
      </td>
      <td>
        Most acutely unwell; highest acute physiology scores, impaired oxygenation,
        pronounced biochemical derangement.
      </td>
    </tr>
    <tr>
      <td>High MM</td>
      <td>H2</td>
      <td>Cardio–pulmonary plus liver disease</td>
      <td>
        Enriched for heart failure, COPD and cirrhosis; moderate diabetes and cancer;
        fewer explicit multi-organ failure codes.
      </td>
      <td>
        Intermediate severity; acute physiology close to stratum average,
        oxygenation and albumin relatively preserved.
      </td>
    </tr>
    <tr>
      <td>High MM</td>
      <td>H3</td>
      <td>Cardiometabolic plus solid tumours</td>
      <td>
        Very high prevalence of heart failure and diabetes with substantial solid tumour burden
        (e.g. lung and other cancers).
      </td>
      <td>
        Least acutely deranged in this stratum; relatively preserved oxygenation and renal function
        despite heavy chronic disease.
      </td>
    </tr>

    <!-- Mid multimorbidity -->
    <tr class="section-row">
      <td colspan="5">Mid multimorbidity (2–3 chronic conditions)</td>
    </tr>
    <tr>
      <td>Mid MM</td>
      <td>M1</td>
      <td>Older COPD-dominant chronic respiratory</td>
      <td>
        Marked excess of COPD with coexisting but moderate heart failure, diabetes and cancer;
        older age profile.
      </td>
      <td>
        Mild-to-moderate acute derangement; modest impairment of oxygenation.
      </td>
    </tr>
    <tr>
      <td>Mid MM</td>
      <td>M2</td>
      <td>Multi-organ failure with malignancy and cirrhosis</td>
      <td>
        High rates of acute renal failure / multi-organ failure, malignancy (including metastatic),
        cirrhosis and more frequent coma.
      </td>
      <td>
        Most abnormal acute physiology in this stratum; low albumin and more deranged biochemical markers.
      </td>
    </tr>
    <tr>
      <td>Mid MM</td>
      <td>M3</td>
      <td>Compensated heart failure plus solid tumours</td>
      <td>
        High prevalence of heart failure and solid tumours (lung, colorectal),
        relatively few explicit organ-failure codes.
      </td>
      <td>
        Best-preserved acute physiology; near-normal oxygenation, renal indices and vital signs.
      </td>
    </tr>

    <!-- Low multimorbidity -->
    <tr class="section-row">
      <td colspan="5">Low multimorbidity (0–1 chronic condition)</td>
    </tr>
    <tr>
      <td>Low MM</td>
      <td>L1</td>
      <td>Low-acuity solid tumour</td>
      <td>
        Dominated by solid tumours, especially lung and colon cancer, with few additional
        chronic conditions.
      </td>
      <td>
        Lowest acute severity; good oxygenation and renal function, limited physiological derangement.
      </td>
    </tr>
    <tr>
      <td>Low MM</td>
      <td>L2</td>
      <td>Neurologic catastrophe / coma</td>
      <td>
        Very high frequency of coma diagnoses; relatively low chronic multimorbidity
        and modest organ-failure burden.
      </td>
      <td>
        Marked neurological compromise with only moderate systemic physiological derangement.
      </td>
    </tr>
    <tr>
      <td>Low MM</td>
      <td>L3</td>
      <td>Acute multi-organ failure with low baseline multimorbidity</td>
      <td>
        Very high prevalence of acute renal failure / multi-organ failure in patients
        with few recorded chronic diseases.
      </td>
      <td>
        Most acutely unwell in this stratum; impaired oxygenation and worse biochemical profiles
        despite low multimorbidity.
      </td>
    </tr>
  </tbody>
</table>

  <img
  src='Project MAIP_ Scalable Approximate Similarity Fusion (SASF) clusters.svg'
  alt="Overview schematic"
  style="display:block; margin-left:auto; max-width:100%; height:auto;"
>

<h3 class="section-heading">Primary outcome associations (365-day mortality)</h3>

<section class="intro-grid" aria-labelledby="cox-primary">
  <div>
    <div class="intro-text">
      <p>
        Within each multimorbidity stratum, I estimated adjusted associations between SNF-lite phenotype
        membership and 365-day all-cause mortality using Cox proportional hazards models, with cluster as the
        exposure and adjustment for age (standardised), sex, multimorbidity count (standardised), and acute
        physiology severity (APS, standardised). Cluster membership remained independently prognostic after
        adjustment. In the high multimorbidity cohort (N=1100), both High_MM_1 and High_MM_2 had lower
        mortality hazards than the reference High_MM_0 (High_MM_1 vs High_MM_0: HR 0.57 [0.39–0.82];
        High_MM_2 vs High_MM_0: HR 0.51 [0.37–0.70]). In the mid stratum (N=3822), Mid_MM_1 showed the
        highest adjusted risk relative to Mid_MM_0 (HR 1.87 [1.56–2.23]), with a smaller but still significant
        elevation for Mid_MM_2 (HR 1.30 [1.11–1.53]). In the low stratum (N=4183), the coma-dominant phenotype
        Low_MM_1 had markedly higher adjusted risk than Low_MM_0 (HR 2.36 [1.93–2.89]), while Low_MM_2 had
        lower adjusted hazard than Low_MM_0 (HR 0.59 [0.49–0.73]), consistent with long-term risk being driven
        by underlying disease composition in addition to acute severity. APS was the strongest and most
        consistent covariate across strata (HR ~1.4–1.6 per 1 SD increase).
      </p>
      <p>
        Proportional hazards diagnostics based on Schoenfeld residuals indicated departures from strict PH
        assumptions even after truncation to 365 days; hazard ratios are therefore interpreted as average
        effects over the 1-year horizon and are presented alongside unadjusted KM curves as supporting evidence.
      </p>
      <p>
        In addition to the adjusted Cox models reported above, I ran supporting outcome analyses to
        contextualise these findings, including unadjusted Kaplan–Meier curves with logrank tests,
        and non-parametric comparisons of ICU length of stay and total medical costs across phenotypes.
        These supplementary outputs are provided in the Supplementary section (figures and tables),
        alongside cluster profile summaries used for phenotype interpretation.
      </p>
      <br>
    </div>
  </div>
</section>

<h4 style="margin-top: 40px; margin-bottom: 20px;">High Multimorbidity Stratum</h4>

<table class="phase-table variable-table" aria-label="High Stratum: Adjusted Cox Model">
  <thead>
    <tr>
      <th>Term</th>
      <th>Adjusted HR (95% CI)</th>
      <th>p-value</th>
    </tr>
  </thead>
  <tbody>
    <tr class="section-row">
      <td colspan="3">Reference phenotype = High_MM_0</td>
    </tr>
    <tr>
      <td>High_MM_1 vs High_MM_0</td>
      <td>0.57 (0.39–0.82)</td>
      <td>0.003</td>
    </tr>
    <tr>
      <td>High_MM_2 vs High_MM_0</td>
      <td>0.51 (0.37–0.70)</td>
      <td>2.0e-05</td>
    </tr>
    <tr>
      <td>Age (per 1 SD)</td>
      <td>0.96 (0.82–1.11)</td>
      <td>0.576</td>
    </tr>
    <tr>
      <td>Male (vs female)</td>
      <td>1.24 (1.03–1.50)</td>
      <td>0.025</td>
    </tr>
    <tr>
      <td>Multimorbidity count (per 1 SD)</td>
      <td>1.02 (0.88–1.18)</td>
      <td>0.798</td>
    </tr>
    <tr>
      <td>Acute physiology (APS, per 1 SD)</td>
      <td>1.43 (1.20–1.70)</td>
      <td>4.0e-05</td>
    </tr>
  </tbody>
</table>

<figure style="margin: 30px 0;">
  <img
    src="KM_curves-1.png"
    alt="Forest plot for High Multimorbidity Stratum"
    style="display:block; margin-left:auto; margin-right:auto; max-width:100%; height:auto;"
  >
  <figcaption style="text-align:center; font-style:italic; font-size:0.9em; color:#555;">
    Fig A. Adjusted hazard ratios for High Multimorbidity stratum.
  </figcaption>
</figure>

<hr style="border: 0; border-top: 1px solid #eee; margin: 40px 0;">

<h4>Mid Multimorbidity Stratum</h4>

<table class="phase-table variable-table" aria-label="Mid Stratum: Adjusted Cox Model">
  <thead>
    <tr>
      <th>Term</th>
      <th>Adjusted HR (95% CI)</th>
      <th>p-value</th>
    </tr>
  </thead>
  <tbody>
    <tr class="section-row">
      <td colspan="3">Reference phenotype = Mid_MM_0</td>
    </tr>
    <tr>
      <td>Mid_MM_1 vs Mid_MM_0</td>
      <td>1.87 (1.56–2.23)</td>
      <td>2.1e-11</td>
    </tr>
    <tr>
      <td>Mid_MM_2 vs Mid_MM_0</td>
      <td>1.30 (1.11–1.53)</td>
      <td>0.002</td>
    </tr>
    <tr>
      <td>Age (per 1 SD)</td>
      <td>1.28 (1.17–1.40)</td>
      <td>1.1e-07</td>
    </tr>
    <tr>
      <td>Male (vs female)</td>
      <td>1.06 (0.96–1.17)</td>
      <td>0.239</td>
    </tr>
    <tr>
      <td>Multimorbidity count (per 1 SD)</td>
      <td>0.92 (0.83–1.01)</td>
      <td>0.101</td>
    </tr>
    <tr>
      <td>Acute physiology (APS, per 1 SD)</td>
      <td>1.63 (1.49–1.78)</td>
      <td>2.6e-26</td>
    </tr>
  </tbody>
</table>

<figure style="margin: 30px 0;">
  <img
    src="KM_curves-2.png"
    alt="Forest plot for Mid Multimorbidity Stratum"
    style="display:block; margin-left:auto; margin-right:auto; max-width:100%; height:auto;"
  >
  <figcaption style="text-align:center; font-style:italic; font-size:0.9em; color:#555;">
    Fig B. Adjusted hazard ratios for Mid Multimorbidity stratum.
  </figcaption>
</figure>

<hr style="border: 0; border-top: 1px solid #eee; margin: 40px 0;">

<h4>Low Multimorbidity Stratum</h4>

<table class="phase-table variable-table" aria-label="Low Stratum: Adjusted Cox Model">
  <thead>
    <tr>
      <th>Term</th>
      <th>Adjusted HR (95% CI)</th>
      <th>p-value</th>
    </tr>
  </thead>
  <tbody>
    <tr class="section-row">
      <td colspan="3">Reference phenotype = Low_MM_0</td>
    </tr>
    <tr>
      <td>Low_MM_1 vs Low_MM_0</td>
      <td>2.36 (1.93–2.89)</td>
      <td>1.2e-15</td>
    </tr>
    <tr>
      <td>Low_MM_2 vs Low_MM_0</td>
      <td>0.59 (0.49–0.73)</td>
      <td>1.5e-04</td>
    </tr>
    <tr>
      <td>Age (per 1 SD)</td>
      <td>1.22 (1.11–1.34)</td>
      <td>5.3e-05</td>
    </tr>
    <tr>
      <td>Male (vs female)</td>
      <td>1.06 (0.93–1.21)</td>
      <td>0.427</td>
    </tr>
    <tr>
      <td>Multimorbidity count (per 1 SD)</td>
      <td>1.66 (1.47–1.87)</td>
      <td>9.9e-17</td>
    </tr>
    <tr>
      <td>Acute physiology (APS, per 1 SD)</td>
      <td>1.48 (1.33–1.65)</td>
      <td>2.2e-11</td>
    </tr>
  </tbody>
</table>

<figure style="margin: 30px 0;">
  <img
    src="KM_curves-3.png"
    alt="Forest plot for Low Multimorbidity Stratum"
    style="display:block; margin-left:auto; margin-right:auto; max-width:100%; height:auto;"
  >
  <figcaption style="text-align:center; font-style:italic; font-size:0.9em; color:#555;">
    Fig C. Adjusted hazard ratios for Low Multimorbidity stratum.
  </figcaption>
</figure>

<h3 class="section-heading">Secondary Outcomes - Resource Utilization</h3>

<section class="intro-grid" aria-labelledby="secondary-outcomes">
  <div>
    <div class="intro-text">
      <p>
        Beyond mortality, I assessed whether the identified phenotypes corresponded to distinct patterns of healthcare
        resource consumption. Using Kruskal-Wallis tests, I compared distributions of hospital length of stay (LOS)
        and total medical costs across phenotypes within each stratum to quantify the operational impact of these clinical subtypes.
      </p>
      <p>
        <strong>High Stratum:</strong> Significant heterogeneity was observed in both LOS ($P=0.015$) and costs ($P=0.006$).
        The high-risk reference phenotype <strong>High_MM_0</strong> was associated with the highest resource burden
        (Median LOS: 9.0 days; Median Cost: $23,412), while the lower-risk phenotypes High_MM_1 and High_MM_2 showed
        reduced utilization (Median LOS: 7.0 days for both).
      </p>
      <p>
        <strong>Mid Stratum:</strong> Resource utilization varied markedly ($P < 0.001$). Consistent with its high mortality risk,
        <strong>Mid_MM_1</strong> accrued the highest median costs ($22,042) and longest stay (9.0 days), nearly double
        the costs of the lower-risk reference Mid_MM_0 ($12,189).
      </p>
      <p>
        <strong>Low Stratum:</strong> The starkest contrast mirrored the survival findings ($P < 0.001$). The high-risk
        <strong>Low_MM_1</strong> phenotype had a median LOS of 8.0 days and costs of $21,114, whereas the protective
        <strong>Low_MM_2</strong> phenotype demonstrated the lowest resource utilization in the entire cohort
        (Median LOS: 4.0 days; Median Cost: $9,207).
      </p>
    </div>
  </div>
</section>

<figure style="margin: 30px 0;">
  <img
    src="km_all_strata.png"
    alt="365-day Kaplan–Meier curves by SNF-lite phenotype"
    style="display:block; margin-left:auto; margin-right:auto; max-width:100%; height:auto;"
  >
  <figcaption style="text-align:center; font-style:italic; font-size:0.9em; color:#555;">
    Figure: 365-day Kaplan–Meier curves by SNF-lite phenotype (stratified by multimorbidity burden)
  </figcaption>

<br>

<table class="phase-table variable-table" aria-label="Median Resource Utilization by Phenotype">
  <thead>
    <tr>
      <th>Stratum</th>
      <th>Phenotype</th>
      <th style="text-align: right;">Median LOS (days)</th>
      <th style="text-align: right;">Median Cost ($)</th>
    </tr>
  </thead>
  <tbody>
    <tr class="section-row">
      <td colspan="4">High Multimorbidity</td>
    </tr>
    <tr>
      <td>High</td>
      <td><strong>High_MM_0</strong> (ref)</td>
      <td style="text-align: right;">9.0</td>
      <td style="text-align: right;">23,412</td>
    </tr>
    <tr>
      <td>High</td>
      <td>High_MM_1</td>
      <td style="text-align: right;">7.0</td>
      <td style="text-align: right;">17,358</td>
    </tr>
    <tr>
      <td>High</td>
      <td>High_MM_2</td>
      <td style="text-align: right;">7.0</td>
      <td style="text-align: right;">18,362</td>
    </tr>

    <tr class="section-row">
      <td colspan="4">Mid Multimorbidity</td>
    </tr>
    <tr>
      <td>Mid</td>
      <td><strong>Mid_MM_0</strong> (ref)</td>
      <td style="text-align: right;">6.0</td>
      <td style="text-align: right;">12,189</td>
    </tr>
    <tr>
      <td>Mid</td>
      <td>Mid_MM_1</td>
      <td style="text-align: right;">9.0</td>
      <td style="text-align: right;">22,042</td>
    </tr>
    <tr>
      <td>Mid</td>
      <td>Mid_MM_2</td>
      <td style="text-align: right;">7.0</td>
      <td style="text-align: right;">14,842</td>
    </tr>

    <tr class="section-row">
      <td colspan="4">Low Multimorbidity</td>
    </tr>
    <tr>
      <td>Low</td>
      <td><strong>Low_MM_0</strong> (ref)</td>
      <td style="text-align: right;">5.0</td>
      <td style="text-align: right;">11,353</td>
    </tr>
    <tr>
      <td>Low</td>
      <td>Low_MM_1</td>
      <td style="text-align: right;">8.0</td>
      <td style="text-align: right;">21,114</td>
    </tr>
    <tr>
      <td>Low</td>
      <td>Low_MM_2</td>
      <td style="text-align: right;">4.0</td>
      <td style="text-align: right;">9,207</td>
    </tr>
  </tbody>
</table>
<figcaption style="text-align:center; font-style:italic; font-size:0.9em; color:#555; margin-top: 10px;">
  Table 2. Median hospital length of stay and total medical costs per phenotype. Differences across phenotypes within each stratum were statistically significant (Kruskal-Wallis P < 0.05 for High stratum; P < 0.001 for Mid/Low strata).
</figcaption>

<h3 class="section-heading">Surrogate trees and LLM-derived rulecards</h3>
<p class="section-lead">
  To translate SNF-lite phenotypes into compact, auditable decision logic, we fit constrained
  decision-tree surrogates to approximate phenotype assignments and then convert the extracted
  rule paths into clinician-facing rulecards using a controlled remote LLM pipeline with
  programmatic validation.
</p>

<section class="intro-grid" aria-labelledby="surrogate-rulecards">
  <div class="intro-text">
    <p><strong>Surrogate decision trees (per stratum)</strong></p>
    <p>
      Within each multimorbidity stratum (High_MM, Mid_MM, Low_MM), a separate decision tree
      classifier was trained to approximate the SNF-lite phenotype label for that stratum.
      The feature set matched the harmonised baseline variables used in phenotyping. Tree
      complexity was constrained (depth and leaf-size limits) and selected by cross-validation
      to balance fidelity and interpretability. Surrogate fidelity was summarised using
      accuracy and macro-averaged F1.
    </p>

    <p><strong>Rule extraction and canonical JSON rulesets</strong></p>
    <p>
      The fitted tree structure was exported into a structured JSON ruleset. Each leaf path
      corresponds to one rule defined by an ordered conjunction of feature–operator–threshold
      conditions and an associated phenotype label. The JSON ruleset is treated as the
      canonical source of truth for downstream translation and QC.
    </p>

    <p><strong>Canonical rulecard output format (fixed headings)</strong></p>
    <ul class="section-lead" style="margin-top: 6px;">
      <li><code>Phenotype &lt;label&gt; – &lt;short title&gt;</code></li>
      <li><code>Key idea:</code> – one or two sentences summarising the typical patient</li>
      <li><code>Rulecard:</code> – a bullet list of explicit IF/THEN rules</li>
      <li><code>ASCII flowchart:</code> – a simple text flowchart mirroring the same branch</li>
    </ul>


    <!-- <p><strong>Rule extraction (canonical JSON ruleset)</strong></p> -->
    <p class = "section-lead">
      The JSON representation records, for each rule, the feature names, comparison operators,
      threshold values, and the resulting phenotype label. A schematic example is:
    </p>

    <div class="code-block" aria-label="JSON ruleset schematic example">
      <div class="code-titlebar">
        <span class="label">rule_ruleset.json (schematic)</span>
        <span>JSON</span>
      </div>
      <pre><code>{
      <span class="tok-key">"ruleset_id"</span>: <span class="tok-str">"maip_v1"</span>,
      <span class="tok-key">"phenotypes"</span>: [<span class="tok-str">"P1"</span>, <span class="tok-str">"P2"</span>, <span class="tok-str">"P3"</span>, <span class="tok-str">"P4"</span>],
      <span class="tok-key">"rules"</span>: [
        {
          <span class="tok-key">"id"</span>: <span class="tok-str">"R1"</span>,
          <span class="tok-key">"if"</span>: [
            {<span class="tok-key">"feature"</span>: <span class="tok-str">"num_co"</span>, <span class="tok-key">"op"</span>: <span class="tok-str">"&lt;"</span>, <span class="tok-key">"value"</span>: <span class="tok-num">2</span>},
            {<span class="tok-key">"feature"</span>: <span class="tok-str">"aps"</span>, <span class="tok-key">"op"</span>: <span class="tok-str">"&gt;"</span>, <span class="tok-key">"value"</span>: <span class="tok-num">18</span>}
          ],
          <span class="tok-key">"then"</span>: {<span class="tok-key">"phenotype"</span>: <span class="tok-str">"P2"</span>}
        }
      ]
    }</code></pre>
    </div>

<p class="section-lead" style="margin-top: 8px;">
  This structured representation becomes the canonical source of truth for the rule logic used in the
  subsequent LLM translation phase.
</p>


    <p><strong>LLM translation into rulecards (remote API)</strong></p>
    <p>
      For each phenotype label, a prompt was assembled by concatenating: (i) the phenotype’s
      JSON rule paths, (ii) a phenotype summary (curated from analytic outputs), (iii) a
      phenotype-specific subset of the variable dictionary for features appearing in those
      rules, and (iv) a style guide that fixes phrasing and output structure. A remote chat
      model (GPT-4.1-mini via API) was then used as a controlled re-writer to produce a
      canonical markdown rulecard with three fixed sections: <em>Key idea</em>, <em>Rulecard</em>,
      and <em>ASCII flowchart</em>. Generation was run at low temperature to reduce variability.
    </p>

    <p><strong>Programmatic quality control</strong></p>
    <p>
      Generated rulecards were validated against the JSON rulesets and variable dictionary.
      QC checks included: (i) rule coverage (each JSON condition must appear in at least one
      textual “IF …” line, including threshold values), (ii) feature-name alignment against
      canonical dictionary keys, and (iii) an optional synthetic-profile sanity check that
      confirms exported rule paths behave consistently with the fitted surrogate tree.
    </p>
    <p class="section-lead">
      Example of the QC pass that validates coverage of JSON conditions in the generated markdown rulecard.
    </p>

    <div class="code-block" aria-label="Programmatic checks snippet">
      <div class="code-titlebar">
        <span class="label">rulecard_validate.py (excerpt)</span>
        <span>Python</span>
      </div>
      <pre><code><span class="tok-kw">def</span> <span class="tok-fn">validate_rule_coverage</span>(json_rules, rulecard_text):
        <span class="tok-cmpr"># Extract “- IF …” lines and verify each JSON condition is represented.</span>
        if_lines = [ln for ln in rulecard_text.splitlines() if ln.lstrip().startswith(<span class="tok-str">"- IF"</span>)]

        <span class="tok-kw">for</span> rule <span class="tok-kw">in</span> json_rules:
            <span class="tok-kw">for</span> cond <span class="tok-kw">in</span> rule[<span class="tok-str">"if"</span>]:
                feat = cond[<span class="tok-str">"feature"</span>]
                val  = str(cond[<span class="tok-str">"value"</span>])
                ok = any((feat in ln) and (val in ln) for ln in if_lines)
                <span class="tok-kw">if</span> <span class="tok-kw">not</span> ok:
                    <span class="tok-kw">return</span> <span class="tok-bool">False</span>, (feat, val)

        <span class="tok-kw">return</span> <span class="tok-bool">True</span>, <span class="tok-kw">None</span></code></pre>
    </div>

  </div>
</section>

<h4 class="section-heading" style="font-size: 18px; margin-top: 22px;">Surrogate fidelity (cross-validated)</h4>
<p class="section-lead">
  Cross-validated fidelity of decision-tree surrogates to SNF-lite phenotypes, by multimorbidity stratum.
  Values are mean&nbsp;&plusmn;&nbsp;SD.
</p>

<table class="phase-table" aria-label="Surrogate fidelity table">
  <thead>
    <tr>
      <th>Stratum</th>
      <th>CV accuracy</th>
      <th>Macro–F1</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>High MM</td>
      <td>0.741&nbsp;&plusmn;&nbsp;0.027</td>
      <td>0.744&nbsp;&plusmn;&nbsp;0.026</td>
    </tr>
    <tr>
      <td>Mid MM</td>
      <td>0.821&nbsp;&plusmn;&nbsp;0.004</td>
      <td>0.797&nbsp;&plusmn;&nbsp;0.007</td>
    </tr>
    <tr>
      <td>Low MM</td>
      <td>0.900&nbsp;&plusmn;&nbsp;0.007</td>
      <td>0.877&nbsp;&plusmn;&nbsp;0.013</td>
    </tr>
  </tbody>
</table>

<div class="intro-text" style="margin-top: 14px;">
  <p>
    Surrogate fidelity was highest in the low-multimorbidity stratum and lowest in the high-multimorbidity
    stratum, consistent with greater heterogeneity in high multimorbidity. Across strata, extracted rule
    sets typically required multiple leaf paths to cover physiologically diverse phenotypes, while more
    specific phenotypes could be represented by fewer rules.
  </p>
</div>

<figure style="margin-top: 18px;">
  <img
    src="cf_all_strata.png"
    alt="Confusion matrices for surrogate decision trees by multimorbidity stratum"
    style="width:100%; height:auto; border-radius:12px;"
  />
  <figcaption class="section-lead" style="margin-top: 8px;">
    <strong>Figure:</strong> Confusion matrices for decision-tree surrogates predicting SNF-lite phenotype labels
    in each multimorbidity stratum.
  </figcaption>
</figure>

<div class="intro-text" style="margin-top: 14px;">
  <p><strong>Rulecard outputs and QC status</strong></p>
  <p>
    The pipeline produced one canonical markdown rulecard per phenotype (three phenotypes per stratum),
    each containing a short “Key idea” summary, explicit IF/THEN rules that mirror the JSON conditions,
    and an ASCII flowchart representing the same decision structure. Programmatic validation reports
    summarised rule coverage and dictionary alignment for each phenotype and flagged any missing
    feature–threshold mappings for manual correction.
  </p>
</div>

<h2 class="section-heading">Conclusion</h2>
<p class="section-lead">
  MAIP is an end-to-end, multimorbidity-anchored phenotyping and translation pipeline: from
  multi-view unsupervised learning to auditable, clinician-readable decision logic.
</p>

<section class="intro-grid" aria-labelledby="conclusion">
  <div class="intro-text">
    <p>
      In the SUPPORT-II cohort, stratifying by baseline multimorbidity before clustering made the target
      problem explicit: within comparable chronic disease burden, identify distinct acute physiologic
      presentations and care-context patterns. Across low, mid and high multimorbidity strata, the
      SNF-lite multi-view fusion approach produced stable, clinically coherent phenotypes with stronger
      internal validity and larger cross-validated discrimination gains than the physiology-only MMSP
      baseline.
    </p>
    <p>
      These phenotypes were not treated as opaque labels. I distilled each stratum’s SNF-lite assignments
      into shallow decision-tree surrogates, exported the leaf paths as canonical JSON rules, and produced
      clinician-facing rulecards and ASCII flowcharts via a controlled remote LLM translation step. A
      programmatic QC layer checks rule coverage and dictionary alignment, preserving traceability from
      cluster definition to bedside-readable logic.
    </p>
    <p>
      Together, this work demonstrates a maintainable pattern for clinically grounded unsupervised
      phenotyping: separate chronic burden from acute state, fuse complementary data views, validate on
      held-out outcomes, and operationalise phenotypes through versioned, auditable rules. Supporting
      Kaplan–Meier, LOS and cost analyses are provided in the Supplementary section to contextualise the
      primary mortality findings.
    </p>
</section>

  </div>
    <div class="bubble-actions" aria-label="Project links">
    <a class="bubble-btn" href="https://hsreedeth.github.io/maip_page/#/" target="_blank" rel="noopener noreferrer">
      Project demo
      <span class="bubble-btn-icon" aria-hidden="true">↗</span>
    </a>

    <a class="bubble-btn bubble-btn--ghost" href="https://github.com/hsreedeth/MAIP" target="_blank" rel="noopener noreferrer">
      GitHub repo
      <span class="bubble-btn-icon" aria-hidden="true">↗</span>
    </a>
  </div>


</main>
</body>
</html>

  <!-- <p class="section-lead">
    Selected work that illustrates the skills above. Each project is backed by
    a complete analysis pipeline and manuscript-style documentation.
  </p> -->

  <!-- <section class="projects-grid" aria-label="Selected projects">
    <article class="project-card">
      <div class="project-code">01</div>
      <div class="project-name">Study Design</div>
      <div class="project-meta">R, Python, LCA, survival, reproducible pipeline</div>
      <div class="project-description">
        This is a retrospective cohort study using the SUPPORTII dataset, which contains detailed information on approximately 9,000 critically ill adult patients admitted to ICUs in multiple North American centres during the late 1980s and early 1990s. SUPPORT-II includes baseline demographics, comorbidities, physiological measurements near ICU admission, prognostic scores and follow-up outcomes such as vital status, survival time and length of stay. The target population for the phenotyping analyses comprises adult ICU admissions with sufficient data in the comorbidity and acute physiology domains to support cluster assignment. Outcome variables are reserved for validation analyses and are not used to build the phenotypes themselves.
      </div>
    </article>

    <article class="project-card">
      <div class="project-code">02</div>
      <div class="project-name">Feature Space</div>
      <div class="project-meta">Python, graph-based clustering, ICU dataset</div>
      <div class="project-description">
        The analysis distinguishes between a feature matrix (X), which is used for unsupervised learning and surrogate modelling, and an outcome matrix (Y), which is held out for external validation. The outcome matrix includes 2 vital status at one or more pre-specified horizons (for example in-hospital and 5-year mortality), time-to-event variables, and measures of ICU and hospital length of stay and resource utilisation. No outcome variable is included among the clustering features.
      </div>
    </article>

    <article class="project-card">
      <div class="project-code">03</div>
      <div class="project-name">Views</div>
      <div class="project-meta">Python, scikit-learn, RAG, LLMs</div>
      <div class="project-description">
        The feature matrix is organised into three conceptual “views”. The comorbidity view contains variables that describe chronic disease burden: the SUPPORT-II comorbidity count, indicator variables for specific chronic conditions, and broader diagnostic categories where available. The physiology view contains acute-state variables measured around ICU admission, including vital signs, arterial blood gas values, laboratory measurements, and composite severity indices. The socio-contextual view includes demographic characteristics such as age and sex, socio-economic proxies where available, and care-context variables such as advance directives. Continuous variables in the physiology view are transformed if necessary to mitigate extreme outliers and are standardised to have mean zero and unit variance. Categorical variables are encoded in a way that preserves interpretability (for example, one-hot encodings with clear level labels).
      </div>
    </article>

    <article class="project-card">
      <div class="project-code">04</div>
      <div class="project-name">Imuptation</div>
      <div class="project-meta">Cox PH, interactions, epidemiology</div>
      <div class="project-description">
        Missing data in (X) are handled using a consistent, pre-specified strategy. A pragmatic approach is to apply a single imputation model that is fitted without reference to the outcomes, optionally coupled with missingness indicators for variables with substantial gaps. The imputation recipe is documented in sufficient detail (including model type, predictors, and random seed) to support reproduction. The key design principle is that the imputation must not “peek” at outcomes and must preserve the link between the imputed features and the original clinical variables.
      </div>
    </article> -->

    <!-- <article class="project-card">
      <div class="project-code">M5</div>
      <div class="project-name">Data Harmonisation &amp; Event-Long Tables</div>
      <div class="project-meta">R, SQL, reproducible ETL</div>
      <div class="project-description">
        Designed and implemented a robust pipeline to derive high-quality
        event-long datasets from raw ICU records. Included codebook-driven
        variable naming, ICD mapping, handling of inconsistent timestamps, and
        a suite of concordance and attrition diagnostics to ensure traceability.
      </div>
    </article>

    <article class="project-card">
      <div class="project-code">M6</div>
      <div class="project-name">Teaching-Oriented Notebooks &amp; Reports</div>
      <div class="project-meta">Quarto / Rmd, Tufte, literate programming</div>
      <div class="project-description">
        Produced notebook-style reports that combine narrative, maths and code;
        suitable for supervisors, clinicians and technical reviewers. The MAIP
        manuscript and portfolio you are reading were generated from these
        documents, emphasising clarity, auditability and reuse.
      </div>
    </article>
  </section> -->

  <!-- Contact -->
  <!-- <h2 class="section-heading">Contact</h2>
  <p class="section-lead">
    I am open to roles in health data science, applied machine learning and
    research-adjacent engineering positions that value rigor and clear
    communication.
  </p> -->

  <!-- <div class="contact-row">
    <div>
      <div class="contact-label">Email</div>
      <div><a href="mailto:YOUR.EMAIL@here">YOUR.EMAIL@here</a></div>
    </div>
    <div>
      <div class="contact-label">Github</div>
      <div><a href="https://github.com/YOUR_HANDLE">github.com/YOUR_HANDLE</a></div>
    </div>
    <div>
      <div class="contact-label">Location</div>
      <div>Sydney, Australia</div>
    </div>
  </div> -->